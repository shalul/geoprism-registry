<!--

    Copyright (c) 2022 TerraFrame, Inc. All rights reserved.

    This file is part of Geoprism Registry(tm).

    Geoprism Registry(tm) is free software: you can redistribute it and/or modify
    it under the terms of the GNU Lesser General Public License as
    published by the Free Software Foundation, either version 3 of the
    License, or (at your option) any later version.

    Geoprism Registry(tm) is distributed in the hope that it will be useful, but
    WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public
    License along with Geoprism Registry(tm).  If not, see <http://www.gnu.org/licenses/>.

-->
<context-menu #nodeMenu>
    <ng-template contextMenuItem let-item (execute)="onEdit($event.item)">
        <localize key="modal.button.edit"></localize>
    </ng-template>
    <ng-template contextMenuItem let-item (execute)="onRemove($event.item)">
        <localize key="modal.button.delete"></localize>
    </ng-template>
    <ng-template contextMenuItem let-item (execute)="onCreate($event.item)">
        <localize key="hierarchy.content.addChild"></localize>
    </ng-template>
</context-menu>

<ng-container>

    <div class="heading">
        <div class="row">
            <div class="col-md-12">
                <div *ngIf="message != null" class="alert alert-danger" style="margin-top: 5px;" role="alert">{{message}}</div>

                <h2>
                    {{classificationType.displayLabel.localizedValue}}
                </h2>
            </div>
        </div>
    </div>

    <div *ngIf="classificationType != null && nodes != null" class="row">
        <div class="col-md-12">
            <ng-container *ngIf="nodes.length === 0">
                <button type="submit" (click)="onCreate(null)" class="btn btn-primary" role="button">
                    <localize key="classification.set.root"></localize>
                </button>
            </ng-container>
            <div>
                <tree-root *ngIf="nodes.length > 0" #tree [options]="options" [nodes]="nodes">
                </tree-root>
            </div>
        </div>
    </div>

</ng-container>