<!--

    Copyright (c) 2022 TerraFrame, Inc. All rights reserved.

    This file is part of Geoprism Registry(tm).

    Geoprism Registry(tm) is free software: you can redistribute it and/or modify
    it under the terms of the GNU Lesser General Public License as
    published by the Free Software Foundation, either version 3 of the
    License, or (at your option) any later version.

    Geoprism Registry(tm) is distributed in the hope that it will be useful, but
    WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public
    License along with Geoprism Registry(tm).  If not, see <http://www.gnu.org/licenses/>.

-->
<div class="new-admin-design-main">
  <cgr-header [loggedIn]=false></cgr-header>
  
  <div id="app-container" class="container">
  
	  <message></message>
	  <loading-bar></loading-bar>
	  
	  <h2><localize key="account.invite.createTitle"></localize></h2>
	
	  <form *ngIf="user != null" #form="ngForm" style="padding-bottom: 20px;" class="modal-form" (ngSubmit)="form.valid && onSubmit()">    
	    <!-- <div class="modal-dialog" style="height: 100%;"> -->
	      <!--  <div class="modal-content" style="height: 100%;overflow-y: auto;"> -->
	        <fieldset>            
	          <div class="heading">
	            <h3><localize key="account.user.heading"></localize></h3>
	          </div>      
	          <hr>        
	          
	          <div *ngIf="message != null" class="alert alert-danger" role="alert">{{message}}</div>
	          
	          <div class="row-holder">
	            <div class="label-holder">
	              <label><localize key="account.firstname"></localize></label>
	            </div>          
	            <div class="holder" >
	              <span class="text">
	                <input type="text" [(ngModel)]="user.firstName" name="firstname" required>
	              </span>
	            </div>
	          </div>          
	          <div class="row-holder">
	            <div class="label-holder">
	              <label><localize key="account.lastname"></localize></label>
	            </div>          
	            <div class="holder" >
	              <span class="text">
	                <input type="text" [(ngModel)]="user.lastName" name="lastname" required>
	              </span>
	            </div>
	          </div>  
            
        <div class="row-holder">
          <div class="label-holder">
            <label>
              <localize key="account.altFirstname"></localize>
            </label>
          </div>
          <div class="holder">
            <span class="text">
              <input type="text" [(ngModel)]="user.altFirstName" name="altFirstname">
            </span>
          </div>
        </div>        
        <div class="row-holder">
          <div class="label-holder">
            <label>
              <localize key="account.altLastname"></localize>
            </label>
          </div>
          <div class="holder">
            <span class="text">
              <input type="text" [(ngModel)]="user.altLastName" name="altLastname">
            </span>
          </div>
        </div>
            
	          <div class="row-holder">
	            <div class="label-holder">
	              <label><localize key="account.phonenumber"></localize></label>
	            </div>          
	            <div class="holder" >
	              <span class="text">
	                <input type="text" [(ngModel)]="user.phoneNumber" name="phoneNumber" >
	              </span>
	<!--               <div *ngIf="aphone.errors?.phone" class="inline-error-message"> -->
	<!--                 <localize key="account.phone.validation"></localize> -->
	<!--               </div>                                           -->
	            </div>
	          </div>  

        <div class="row-holder">
          <div class="label-holder">
            <label>
              <localize key="account.altPhonenumber"></localize>
            </label>
          </div>
          <div class="holder">
            <span class="text">
              <input type="text" [(ngModel)]="user.altPhoneNumber" name="altPhoneNumber">
            </span>
          </div>
        </div>
            
                     
	          <div class="row-holder">
	            <div class="label-holder">
	              <label><localize key="account.email"></localize></label>
	            </div>          
	            <div class="holder" >
	              <span class="text">
	                <input type="text" [(ngModel)]="user.email" name="email" required #aemail="ngModel" email>
	              </span>
	              <div *ngIf="aemail.errors?.email && user.email && user.email.length > 0" style="float:none;" class="inline-error-message">
	                <localize key="account.email.validation"></localize>
	              </div>                                          
	            </div>
	          </div>          
            
        <div class="row-holder">
          <div class="label-holder">
            <label>
              <localize key="account.position"></localize>
            </label>
          </div>
          <div class="holder">
            <span class="text">
              <input type="text" [(ngModel)]="user.position" name="position">
            </span>
          </div>
        </div>
        <div class="row-holder">
          <div class="label-holder">
            <label>
              <localize key="account.department"></localize>
            </label>
          </div>
          <div class="holder">
            <span class="text">
              <input type="text" [(ngModel)]="user.department" name="department">
            </span>
          </div>
        </div>
            
            
	          <div class="heading">
	            <h3><localize key="account.info.heading"></localize></h3>
	          </div>      
	          <hr>          
	          <div class="row-holder">
	            <div class="label-holder">
	              <label><localize key="account.username"></localize></label>
	            </div>          
	            <div class="holder" >
	              <span class="text">
	                <input type="text" [disabled]="!user.newInstance && user.username === 'admin'" [(ngModel)]="user.username" name="username" required>
	              </span>
	            </div>
	          </div>
	          <div>
	            <div class="row-holder">
	              <div class="label-holder">
	                <label><localize key="account.password"></localize></label>
	              </div>          
	              <div class="holder" >
	                <span class="text">
	                  <input type="password" [(ngModel)]="user.password" name="password" #password="ngModel" required minlength="5" maxlength="50" >
                      <password-strength-bar [passwordToCheck]="user.password"></password-strength-bar>
	                </span>
	              </div>
	            </div>  
	            <div class="row-holder">
	              <div class="label-holder">
	                <label><localize key="account.certainPassword"></localize></label>
	              </div>          
	              <div class="holder" >
	                <span class="text">
	                  <input type="password" ngModel name="certainPassword" #certainPassword="ngModel" [value]="password"/>
	                </span>
	                <div *ngIf="certainPassword.errors?.equalTo" style="float: none;" class="inline-error-message">
	                  <localize key="account.certainPassword.validation"></localize>
	                </div>                                                       
	              </div>
	            </div>  
	          </div>
	          <div class="row-holder">
	            <div class="label-holder">
	            </div>                    
	            <div class="holder">
	              <div class="button-holder">
	                <input type="button" [value]="'dataset.cancel' | localize" class="btn btn-default" (click)="cancel()" />              
	                <input type="submit" [value]="'dataset.submit' | localize" class="btn btn-primary" [disabled]="!(form.valid)" />
	              </div>
	            </div>
	          </div>
	        </fieldset>
	      <!-- </div> -->
	    <!-- </div> -->
	  </form>
  </div>
</div>
