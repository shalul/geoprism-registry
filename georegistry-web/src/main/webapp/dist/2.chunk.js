(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{342:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(0);var a=n(2),r=n(27),o=n(242),i=n(243),l=n(598),c=n(599),s=n(590),d=n(592),m=n(600),p=n(618),u=n(602),v=n(603),g=n(619),f=n(601),h=n(604),S=n(605),E=n(606),y=n(620),b=n(621),C=n(622),M=n(668),x=n(248);n(247);var I=n(0),w=function(){function e(){}return e.ɵmod=I.ɵɵdefineNgModule({type:e}),e.ɵinj=I.ɵɵdefineInjector({factory:function(t){return new(t||e)},providers:[l.SystemLogoService,c.EmailService,s.AccountService,d.SettingsService,m.LocalizationManagerService],imports:[[a.CommonModule,r.FormsModule,r.ReactiveFormsModule,o.FileUploadModule,i.NgxPaginationModule,x.SharedModule,M.AdminRoutingModule]]}),e}();t.AdminModule=w,("undefined"==typeof ngJitMode||ngJitMode)&&I.ɵɵsetNgModuleScope(w,{declarations:[h.SystemLogoComponent,S.SystemLogosComponent,p.AccountsComponent,g.AccountInviteCompleteComponent,v.AccountInviteComponent,f.AccountComponent,h.SystemLogoComponent,S.SystemLogosComponent,E.EmailComponent,y.SettingsComponent,b.OrganizationModalComponent,C.NewLocaleModalComponent,u.RoleManagementComponent],imports:[a.CommonModule,r.FormsModule,r.ReactiveFormsModule,o.FileUploadModule,i.NgxPaginationModule,x.SharedModule,M.AdminRoutingModule],exports:[h.SystemLogoComponent,S.SystemLogosComponent]})},590:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(0);var a=n(39),r=n(40),o=(n(44),n(0)),i=n(39),l=n(44),c=function(){function e(e,t){this.http=e,this.eventService=t}return e.prototype.page=function(e){var t=this,n=new a.HttpParams;return n=n.set("number",e.toString()),this.eventService.start(),this.http.get(acp+"/account/page",{params:n}).pipe(r.finalize((function(){t.eventService.complete()}))).toPromise()},e.prototype.edit=function(e){var t=this,n=new a.HttpHeaders({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/registryaccount/edit",JSON.stringify({oid:e}),{headers:n}).pipe(r.finalize((function(){t.eventService.complete()}))).toPromise()},e.prototype.newInstance=function(e){var t=this,n=new a.HttpHeaders({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/registryaccount/newInstance",JSON.stringify({organizationCodes:e}),{headers:n}).pipe(r.finalize((function(){t.eventService.complete()}))).toPromise()},e.prototype.newUserInstance=function(){var e=this,t=new a.HttpHeaders({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/registryaccount/newUserInstance",JSON.stringify({}),{headers:t}).pipe(r.finalize((function(){e.eventService.complete()}))).toPromise()},e.prototype.newInvite=function(){var e=this,t=new a.HttpHeaders({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/registryaccount/newInvite",JSON.stringify({}),{headers:t}).pipe(r.finalize((function(){e.eventService.complete()}))).toPromise()},e.prototype.remove=function(e){var t=this,n=new a.HttpHeaders({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/account/remove",JSON.stringify({oid:e}),{headers:n}).pipe(r.finalize((function(){t.eventService.complete()}))).toPromise()},e.prototype.apply=function(e,t){var n=this,o=new a.HttpHeaders({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/registryaccount/apply",JSON.stringify({account:e,roleNames:t}),{headers:o}).pipe(r.finalize((function(){n.eventService.complete()}))).toPromise()},e.prototype.unlock=function(e){var t=this,n=new a.HttpHeaders({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/account/unlock",JSON.stringify({oid:e}),{headers:n}).pipe(r.finalize((function(){t.eventService.complete()}))).toPromise()},e.prototype.inviteUser=function(e,t){var n=this,o=new a.HttpHeaders({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/registryaccount/inviteUser",JSON.stringify({invite:e,roleIds:t}),{headers:o}).pipe(r.finalize((function(){n.eventService.complete()}))).toPromise()},e.prototype.inviteComplete=function(e,t){var n=this,o=new a.HttpHeaders({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/registryaccount/inviteComplete",JSON.stringify({user:e,token:t}),{headers:o}).pipe(r.finalize((function(){n.eventService.complete()}))).toPromise()},e.prototype.getRolesForUser=function(e){var t=this,n=new a.HttpParams;return n=n.set("userOID",e),this.eventService.start(),this.http.get(acp+"/cgr/account/get-roles-for-user",{params:n}).pipe(r.finalize((function(){t.eventService.complete()}))).toPromise()},e.ɵfac=function(t){return new(t||e)(o.ɵɵinject(i.HttpClient),o.ɵɵinject(l.EventService))},e.ɵprov=o.ɵɵdefineInjectable({token:e,factory:e.ɵfac}),e}();t.AccountService=c},592:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(0);var a=n(39),r=n(40),o=(n(44),n(0)),i=n(39),l=n(44),c=function(){function e(e,t){this.http=e,this.eventService=t}return e.prototype.getOrganizations=function(){var e=this;return this.eventService.start(),this.http.get(acp+"/cgr/organizations/get-all").pipe(r.finalize((function(){e.eventService.complete()}))).toPromise()},e.prototype.updateOrganization=function(e){var t=this,n=new a.HttpHeaders({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/cgr/orgainization/update",JSON.stringify({json:e}),{headers:n}).pipe(r.finalize((function(){t.eventService.complete()}))).toPromise()},e.prototype.newOrganization=function(e){var t=this,n=new a.HttpHeaders({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/cgr/orgainization/create",JSON.stringify({json:e}),{headers:n}).pipe(r.finalize((function(){t.eventService.complete()}))).toPromise()},e.prototype.removeOrganization=function(e){var t=this,n=new a.HttpHeaders({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/cgr/orgainization/delete",JSON.stringify({code:e}),{headers:n}).pipe(r.finalize((function(){t.eventService.complete()}))).toPromise()},e.ɵfac=function(t){return new(t||e)(o.ɵɵinject(i.HttpClient),o.ɵɵinject(l.EventService))},e.ɵprov=o.ɵɵdefineInjectable({token:e,factory:e.ɵfac}),e}();t.SettingsService=c},598:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(0);var a=n(39),r=n(40),o=(n(44),n(0)),i=n(39),l=n(44),c=function(){function e(e,t){this.http=e,this.eventService=t}return e.prototype.getIcons=function(){var e=this;return this.eventService.start(),this.http.get(acp+"/logo/getAll").pipe(r.finalize((function(){e.eventService.complete()}))).toPromise()},e.prototype.remove=function(e){var t=this,n=new a.HttpHeaders({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/logo/remove",JSON.stringify({oid:e}),{headers:n}).pipe(r.finalize((function(){t.eventService.complete()}))).toPromise()},e.ɵfac=function(t){return new(t||e)(o.ɵɵinject(i.HttpClient),o.ɵɵinject(l.EventService))},e.ɵprov=o.ɵɵdefineInjectable({token:e,factory:e.ɵfac}),e}();t.SystemLogoService=c},599:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(0);var a=n(39),r=n(40),o=(n(44),n(0)),i=n(39),l=n(44),c=function(){function e(e,t){this.http=e,this.eventService=t}return e.prototype.getInstance=function(){var e=this;return this.eventService.start(),this.http.get(acp+"/email/getInstance").pipe(r.finalize((function(){e.eventService.complete()}))).toPromise()},e.prototype.apply=function(e){var t=this,n=new a.HttpHeaders({"Content-Type":"application/json"});return this.eventService.start(),this.http.post(acp+"/email/apply",JSON.stringify({setting:e}),{headers:n}).pipe(r.finalize((function(){t.eventService.complete()}))).toPromise()},e.ɵfac=function(t){return new(t||e)(o.ɵɵinject(i.HttpClient),o.ɵɵinject(l.EventService))},e.ɵprov=o.ɵɵdefineInjectable({token:e,factory:e.ɵfac}),e}();t.EmailService=c},600:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(0);var a=n(39),r=(n(44),n(0)),o=n(39),i=n(44),l=function(){function e(e,t){this.http=e,this.eventService=t}return e.prototype.getNewLocaleInfo=function(){return this.http.get(acp+"/localization/getNewLocaleInformation").toPromise()},e.prototype.installLocale=function(e,t,n){var r=new a.HttpParams;return null!=e&&(r=r.set("language",e)),null!=t&&(r=r.set("country",t)),null!=n&&(r=r.set("variant",n)),this.http.get(acp+"/localization/installLocale",{params:r}).toPromise()},e.ɵfac=function(t){return new(t||e)(r.ɵɵinject(o.HttpClient),r.ɵɵinject(i.EventService))},e.ɵprov=r.ɵɵdefineInjectable({token:e,factory:e.ɵfac}),e}();t.LocalizationManagerService=l},601:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(0),n(2),n(29);var a=n(34),r=(n(590),n(33),n(56),n(0)),o=n(590),i=n(56),l=n(2),c=n(29),s=n(33),d=n(118),m=n(117),p=n(27),u=n(336),v=n(55),g=n(333),f=n(602),h=n(97);function S(e,t){if(1&e&&(r.ɵɵelementStart(0,"div",35),r.ɵɵtext(1),r.ɵɵelementEnd()),2&e){var n=r.ɵɵnextContext(2);r.ɵɵadvance(1),r.ɵɵtextInterpolate(n.message)}}function E(e,t){1&e&&(r.ɵɵelementStart(0,"div",36),r.ɵɵelement(1,"localize",37),r.ɵɵelementEnd())}function y(e,t){1&e&&(r.ɵɵelementStart(0,"div",7),r.ɵɵelementStart(1,"h4"),r.ɵɵelement(2,"localize",38),r.ɵɵelementEnd(),r.ɵɵelementEnd())}function b(e,t){if(1&e){var n=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"input",42),r.ɵɵlistener("click",(function(){return r.ɵɵrestoreView(n),r.ɵɵnextContext(3).onChangePassword()})),r.ɵɵpipe(1,"localize"),r.ɵɵelementEnd()}2&e&&r.ɵɵproperty("value",r.ɵɵpipeBind1(1,1,"account.user.change.password.button"))}function C(e,t){if(1&e){var n=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"input",33),r.ɵɵlistener("click",(function(){return r.ɵɵrestoreView(n),r.ɵɵnextContext(3).onChangePassword()})),r.ɵɵpipe(1,"localize"),r.ɵɵelementEnd()}2&e&&r.ɵɵproperty("value",r.ɵɵpipeBind1(1,1,"dataset.cancel"))}function M(e,t){if(1&e&&(r.ɵɵelementStart(0,"div",9),r.ɵɵelementStart(1,"div",39),r.ɵɵtemplate(2,b,2,3,"input",40),r.ɵɵtemplate(3,C,2,3,"input",41),r.ɵɵelementEnd(),r.ɵɵelementEnd()),2&e){var n=r.ɵɵnextContext(2);r.ɵɵadvance(2),r.ɵɵproperty("ngIf",!n.account.changePassword),r.ɵɵadvance(1),r.ɵɵproperty("ngIf",n.account.changePassword)}}function x(e,t){1&e&&(r.ɵɵelementStart(0,"div",36),r.ɵɵelement(1,"localize",50),r.ɵɵelementEnd())}function I(e,t){if(1&e){var n=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"div"),r.ɵɵelementStart(1,"div",9),r.ɵɵelementStart(2,"div",10),r.ɵɵelementStart(3,"label"),r.ɵɵelement(4,"localize",43),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(5,"div",12),r.ɵɵelementStart(6,"span",13),r.ɵɵelementStart(7,"input",44,45),r.ɵɵlistener("ngModelChange",(function(e){return r.ɵɵrestoreView(n),r.ɵɵnextContext(2).account.user.password=e})),r.ɵɵelementEnd(),r.ɵɵelement(9,"password-strength-bar",46),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(10,"div",9),r.ɵɵelementStart(11,"div",10),r.ɵɵelementStart(12,"label"),r.ɵɵelement(13,"localize",47),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(14,"div",12),r.ɵɵelementStart(15,"span",13),r.ɵɵelement(16,"input",48,49),r.ɵɵelementEnd(),r.ɵɵtemplate(18,x,2,0,"div",22),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd()}if(2&e){var a=r.ɵɵreference(17),o=r.ɵɵnextContext(2);r.ɵɵadvance(7),r.ɵɵproperty("ngModel",o.account.user.password),r.ɵɵadvance(2),r.ɵɵproperty("passwordToCheck",o.account.user.password),r.ɵɵadvance(7),r.ɵɵproperty("ngModel",a),r.ɵɵadvance(2),r.ɵɵproperty("ngIf",null==a.errors?null:a.errors.mustMatch)}}function w(e,t){if(1&e){var n=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"div"),r.ɵɵelementStart(1,"div",9),r.ɵɵelementStart(2,"label",51),r.ɵɵelementStart(3,"input",52),r.ɵɵlistener("ngModelChange",(function(e){return r.ɵɵrestoreView(n),r.ɵɵnextContext(2).account.user.inactive=e})),r.ɵɵelementEnd(),r.ɵɵelementStart(4,"span"),r.ɵɵelement(5,"localize",53),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(6,"label",51),r.ɵɵelementStart(7,"input",52),r.ɵɵlistener("ngModelChange",(function(e){return r.ɵɵrestoreView(n),r.ɵɵnextContext(2).account.user.inactive=e})),r.ɵɵelementEnd(),r.ɵɵelementStart(8,"span"),r.ɵɵelement(9,"localize",54),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd()}if(2&e){var a=r.ɵɵnextContext(2);r.ɵɵadvance(3),r.ɵɵproperty("value",!1)("ngModel",a.account.user.inactive),r.ɵɵadvance(4),r.ɵɵproperty("value",!0)("ngModel",a.account.user.inactive)}}function z(e,t){if(1&e){var n=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"role-management",55),r.ɵɵlistener("onRoleIdsUpdate",(function(e){return r.ɵɵrestoreView(n),r.ɵɵnextContext(2).onRoleIdsUpdate(e)})),r.ɵɵelementEnd()}if(2&e){var a=r.ɵɵnextContext(2);r.ɵɵproperty("newInstance",a.account.user.newInstance)("roles",a.account.roles)}}var R=function(){return["password","certainPassword"]};function O(e,t){if(1&e){var n=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"form",3,4),r.ɵɵlistener("ngSubmit",(function(){r.ɵɵrestoreView(n);var e=r.ɵɵreference(1),t=r.ɵɵnextContext();return e.valid&&t.onSubmit()})),r.ɵɵelementStart(2,"fieldset"),r.ɵɵelementStart(3,"div",5),r.ɵɵtemplate(4,S,2,1,"div",6),r.ɵɵelementStart(5,"div",7),r.ɵɵelementStart(6,"h4",1),r.ɵɵelement(7,"localize",8),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(8,"div",9),r.ɵɵelementStart(9,"div",10),r.ɵɵelementStart(10,"label"),r.ɵɵelement(11,"localize",11),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(12,"div",12),r.ɵɵelementStart(13,"span",13),r.ɵɵelementStart(14,"input",14),r.ɵɵlistener("ngModelChange",(function(e){return r.ɵɵrestoreView(n),r.ɵɵnextContext().account.user.firstName=e})),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(15,"div",9),r.ɵɵelementStart(16,"div",10),r.ɵɵelementStart(17,"label"),r.ɵɵelement(18,"localize",15),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(19,"div",12),r.ɵɵelementStart(20,"span",13),r.ɵɵelementStart(21,"input",16),r.ɵɵlistener("ngModelChange",(function(e){return r.ɵɵrestoreView(n),r.ɵɵnextContext().account.user.lastName=e})),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(22,"div",9),r.ɵɵelementStart(23,"div",10),r.ɵɵelementStart(24,"label"),r.ɵɵelement(25,"localize",17),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(26,"div",12),r.ɵɵelementStart(27,"span",13),r.ɵɵelementStart(28,"input",18),r.ɵɵlistener("ngModelChange",(function(e){return r.ɵɵrestoreView(n),r.ɵɵnextContext().account.user.phoneNumber=e})),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(29,"div",9),r.ɵɵelementStart(30,"div",10),r.ɵɵelementStart(31,"label"),r.ɵɵelement(32,"localize",19),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(33,"div",12),r.ɵɵelementStart(34,"span",13),r.ɵɵelementStart(35,"input",20,21),r.ɵɵlistener("ngModelChange",(function(e){return r.ɵɵrestoreView(n),r.ɵɵnextContext().account.user.email=e})),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵtemplate(37,E,2,0,"div",22),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(38,"div",9),r.ɵɵelementStart(39,"div",10),r.ɵɵelementStart(40,"label"),r.ɵɵelement(41,"localize",23),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(42,"div",12),r.ɵɵelementStart(43,"span",13),r.ɵɵelementStart(44,"input",24),r.ɵɵlistener("ngModelChange",(function(e){return r.ɵɵrestoreView(n),r.ɵɵnextContext().account.user.username=e})),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵtemplate(45,y,3,0,"div",25),r.ɵɵtemplate(46,M,4,2,"div",26),r.ɵɵtemplate(47,I,19,4,"div",27),r.ɵɵelementStart(48,"div",7),r.ɵɵelementStart(49,"h4"),r.ɵɵelement(50,"localize",28),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵtemplate(51,w,10,4,"div",27),r.ɵɵtemplate(52,z,1,2,"role-management",29),r.ɵɵelementEnd(),r.ɵɵelementStart(53,"div",30),r.ɵɵelementStart(54,"div",31),r.ɵɵelementStart(55,"div",32),r.ɵɵelementStart(56,"input",33),r.ɵɵlistener("click",(function(){return r.ɵɵrestoreView(n),r.ɵɵnextContext().cancel()})),r.ɵɵpipe(57,"localize"),r.ɵɵelementEnd(),r.ɵɵelement(58,"input",34),r.ɵɵpipe(59,"localize"),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd()}if(2&e){var a=r.ɵɵreference(1),o=r.ɵɵreference(36),i=r.ɵɵnextContext();r.ɵɵproperty("mustMatch",r.ɵɵpureFunction0(21,R)),r.ɵɵadvance(4),r.ɵɵproperty("ngIf",null!=i.message),r.ɵɵadvance(10),r.ɵɵproperty("ngModel",i.account.user.firstName),r.ɵɵadvance(7),r.ɵɵproperty("ngModel",i.account.user.lastName),r.ɵɵadvance(7),r.ɵɵproperty("ngModel",i.account.user.phoneNumber),r.ɵɵadvance(7),r.ɵɵproperty("ngModel",i.account.user.email),r.ɵɵadvance(2),r.ɵɵproperty("ngIf",(null==o.errors?null:o.errors.email)&&i.account.user.email&&i.account.user.email.length>0),r.ɵɵadvance(7),r.ɵɵproperty("disabled",!i.account.user.newInstance&&"admin"===i.account.user.username)("ngModel",i.account.user.username),r.ɵɵadvance(1),r.ɵɵproperty("ngIf",!i.account.user.newInstance),r.ɵɵadvance(1),r.ɵɵproperty("ngIf",!i.account.user.newInstance),r.ɵɵadvance(1),r.ɵɵproperty("ngIf",i.account.changePassword||i.account.user.newInstance),r.ɵɵadvance(4),r.ɵɵproperty("ngIf",!(!i.account.user.newInstance&&"admin"===i.account.user.username)),r.ɵɵadvance(1),r.ɵɵproperty("ngIf",i.account.roles),r.ɵɵadvance(4),r.ɵɵproperty("value",r.ɵɵpipeBind1(57,17,"dataset.cancel")),r.ɵɵadvance(2),r.ɵɵproperty("value",r.ɵɵpipeBind1(59,19,"dataset.submit"))("disabled",!a.valid)}}var k=function(){function e(e,t,n,a,r){this.service=e,this.authService=t,this.location=n,this.bsModalRef=a,this.localizeService=r,this.message=null,this.roleIds=[],this.isSRA=t.isSRA(),this.isRA=t.isRA()}return Object.defineProperty(e.prototype,"oid",{set:function(e){var t=this;if("NEW"===e){var n=[];this.isRA&&(n=this.authService.getMyOrganizations()),this.service.newInstance(n).then((function(e){t.account=e})).catch((function(e){t.error(e)}))}else e&&this.service.edit(e).then((function(e){t.account=e})).catch((function(e){t.error(e)}))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.onEdit=new a.Subject},e.prototype.onRoleIdsUpdate=function(e){this.roleIds=e},e.prototype.cancel=function(){var e=this;!0===this.account.user.newInstance?this.bsModalRef.hide():this.service.unlock(this.account.user.oid).then((function(t){e.bsModalRef.hide()}))},e.prototype.onChangePassword=function(){this.account.changePassword=!this.account.changePassword},e.prototype.onSubmit=function(){var e=this;this.account.changePassword||this.account.user.newInstance||delete this.account.user.password,this.roleIds.length>0?this.service.apply(this.account.user,this.roleIds).then((function(t){e.onEdit.next(t),e.bsModalRef.hide()})).catch((function(t){e.error(t)})):this.message=this.localizeService.decode("account.role.management.roles.required.message")},e.prototype.error=function(e){null!==e&&(this.message=e.error.localizedMessage||e.error.message||e.message)},e.ɵfac=function(t){return new(t||e)(r.ɵɵdirectiveInject(o.AccountService),r.ɵɵdirectiveInject(i.AuthService),r.ɵɵdirectiveInject(l.Location),r.ɵɵdirectiveInject(c.BsModalRef),r.ɵɵdirectiveInject(s.LocalizationService))},e.ɵcmp=r.ɵɵdefineComponent({type:e,selectors:[["account"]],inputs:{oid:"oid"},decls:7,vars:1,consts:[[1,"modal-header",2,"text-align","center","border-bottom","none"],[1,"modal-title"],["class","modal-form",3,"mustMatch","ngSubmit",4,"ngIf"],[1,"modal-form",3,"mustMatch","ngSubmit"],["form","ngForm"],[1,"modal-body"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"heading"],["key","account.user.heading"],[1,"row-holder"],[1,"label-holder"],["key","account.firstname"],[1,"holder"],[1,"text"],["type","text","name","firstname","required","",3,"ngModel","ngModelChange"],["key","account.lastname"],["type","text","name","lastname","required","",3,"ngModel","ngModelChange"],["key","account.phonenumber"],["type","text","name","phoneNumber",3,"ngModel","ngModelChange"],["key","account.email"],["type","email","name","email","required","","required","","email","",3,"ngModel","ngModelChange"],["aemail","ngModel"],["class","inline-error-message",4,"ngIf"],["key","account.username"],["type","text","name","username","required","",3,"disabled","ngModel","ngModelChange"],["class","heading",4,"ngIf"],["class","row-holder",4,"ngIf"],[4,"ngIf"],["key","account.user.status"],[3,"newInstance","roles","onRoleIdsUpdate",4,"ngIf"],[1,"row"],[1,"col-md-12"],[1,"button-holder"],["type","button",1,"btn","btn-default",3,"value","click"],["type","submit",1,"btn","btn-primary",3,"value","disabled"],["role","alert",1,"alert","alert-danger"],[1,"inline-error-message"],["key","account.email.validation"],["key","account.user.password"],[1,"button-holder",2,"text-align","left"],["type","button","class","btn btn-primary",3,"value","click",4,"ngIf"],["type","button","class","btn btn-default",3,"value","click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"value","click"],["key","account.password"],["type","password","name","password","required","","minlength","5","maxlength","50",3,"ngModel","ngModelChange"],["password","ngModel"],[3,"passwordToCheck"],["key","account.certainPassword"],["type","password","name","certainPassword","required","",3,"ngModel"],["certainPassword","ngModel"],["key","account.certainPassword.validation"],[1,"radio","radio-inline"],["type","radio","name","userActive",1,"inline-radio-input",3,"value","ngModel","ngModelChange"],["key","account.user.status.active"],["key","account.user.status.inactive"],[3,"newInstance","roles","onRoleIdsUpdate"]],template:function(e,t){1&e&&(r.ɵɵelementStart(0,"div"),r.ɵɵelement(1,"message"),r.ɵɵelement(2,"loading-bar"),r.ɵɵelementStart(3,"div",0),r.ɵɵelementStart(4,"h2",1),r.ɵɵtext(5," Account "),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵtemplate(6,O,60,22,"form",2),r.ɵɵelementEnd()),2&e&&(r.ɵɵadvance(6),r.ɵɵproperty("ngIf",t.account))},directives:[d.MessageComponent,m.LoadingBarComponent,l.NgIf,p.ɵangular_packages_forms_forms_y,p.NgControlStatusGroup,p.NgForm,u.MustMatchDirective,v.LocalizeComponent,p.DefaultValueAccessor,p.RequiredValidator,p.NgControlStatus,p.NgModel,p.EmailValidator,p.MinLengthValidator,p.MaxLengthValidator,g.PasswordStrengthBarComponent,p.RadioControlValueAccessor,f.RoleManagementComponent],pipes:[h.LocalizePipe],styles:[".modal-section-header[_ngcontent-%COMP%] {\n\tpadding: 15px;\n\tborder-bottom: 1px solid #e5e5e5;\n}",".modal-form[_ngcontent-%COMP%]   .check-block[_ngcontent-%COMP%]   .chk-area[_ngcontent-%COMP%] { margin: 10px 0px 0 0;}"]}),e}();t.AccountComponent=k},602:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=(n(29),n(56),n(244)),o=n(0),i=n(29),l=n(56),c=n(118),s=n(117),d=n(27),m=n(2),p=n(331);function u(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"div",3),o.ɵɵelementStart(1,"div",4),o.ɵɵelementStart(2,"boolean-field",5),o.ɵɵlistener("valueChange",(function(e){return o.ɵɵrestoreView(n),o.ɵɵnextContext(2)._roles.SRA.assigned=e}))("change",(function(e){o.ɵɵrestoreView(n);var t=o.ɵɵnextContext(2);return t.onToggleSRA(e,t._roles.SRA)})),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd()}if(2&e){var a=o.ɵɵnextContext(2);o.ɵɵadvance(2),o.ɵɵproperty("value",a._roles.SRA.assigned)("label",a._roles.SRA.label.localizedValue)("disable",!a.isSRA)}}function v(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"div",3),o.ɵɵelementStart(1,"div",4),o.ɵɵelementStart(2,"boolean-field",5),o.ɵɵlistener("valueChange",(function(e){return o.ɵɵrestoreView(n),o.ɵɵnextContext().$implicit.RA.assigned=e}))("change",(function(e){o.ɵɵrestoreView(n);var t=o.ɵɵnextContext().$implicit;return o.ɵɵnextContext(2).onToggleOrgRA(e,t)})),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd()}if(2&e){var a=o.ɵɵnextContext().$implicit,r=o.ɵɵnextContext(2);o.ɵɵadvance(2),o.ɵɵproperty("value",a.RA.assigned)("label",a.RA.label.localizedValue)("disable",r._roles.SRA&&r._roles.SRA.assigned)}}function g(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"label",13),o.ɵɵelementStart(1,"input",14),o.ɵɵlistener("change",(function(e){o.ɵɵrestoreView(n);var a=t.$implicit,r=o.ɵɵnextContext().$implicit;return o.ɵɵnextContext(3).setGroupRole(r,a,e)})),o.ɵɵelementEnd(),o.ɵɵelementStart(2,"span",15),o.ɵɵtext(3),o.ɵɵelementEnd(),o.ɵɵelementEnd()}if(2&e){var a=t.$implicit,r=o.ɵɵnextContext().$implicit;o.ɵɵadvance(1),o.ɵɵproperty("value",a.name)("checked",r.ENABLEDROLE===a.name)("name",a.orgCode+a.geoObjectTypeCode),o.ɵɵadvance(2),o.ɵɵtextInterpolate(a.label.localizedValue)}}function f(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"div"),o.ɵɵelementStart(1,"div",7),o.ɵɵelementStart(2,"h4"),o.ɵɵtext(3),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵtemplate(4,g,4,4,"label",12),o.ɵɵelementStart(5,"label",13),o.ɵɵelementStart(6,"input",14),o.ɵɵlistener("change",(function(e){o.ɵɵrestoreView(n);var a=t.$implicit;return o.ɵɵnextContext(3).setGroupRole(a,null,e)})),o.ɵɵelementEnd(),o.ɵɵelementStart(7,"span",15),o.ɵɵtext(8,"None"),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd()}if(2&e){var a=t.$implicit;o.ɵɵadvance(3),o.ɵɵtextInterpolate(a.GEOOBJECTTYPELABEL),o.ɵɵadvance(1),o.ɵɵproperty("ngForOf",a.GEOOBJECTTYPEROLESGROUP),o.ɵɵadvance(2),o.ɵɵproperty("checked",""===a.ENABLEDROLE)("name",a+"_none")}}function h(e,t){if(1&e&&(o.ɵɵelementStart(0,"div",6),o.ɵɵelementStart(1,"div",7),o.ɵɵelementStart(2,"h4"),o.ɵɵtext(3),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵtemplate(4,v,3,3,"div",1),o.ɵɵelementStart(5,"div",8),o.ɵɵelementStart(6,"div",9),o.ɵɵelementStart(7,"fieldset",10),o.ɵɵtemplate(8,f,9,4,"div",11),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd()),2&e){var n=t.$implicit,a=o.ɵɵnextContext(2);o.ɵɵadvance(3),o.ɵɵtextInterpolate(n.ORGANIZATIONLABEL),o.ɵɵadvance(1),o.ɵɵproperty("ngIf",n.RA&&a.isSRA),o.ɵɵadvance(3),o.ɵɵproperty("disabled",n.RA&&n.RA.assigned||a._roles.SRA&&a._roles.SRA.assigned),o.ɵɵadvance(1),o.ɵɵproperty("ngForOf",n.GEOOBJECTTYPEROLES)}}function S(e,t){if(1&e&&(o.ɵɵelementStart(0,"div"),o.ɵɵtemplate(1,u,3,3,"div",1),o.ɵɵtemplate(2,h,9,4,"div",2),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext();o.ɵɵadvance(1),o.ɵɵproperty("ngIf",n._roles.SRA),o.ɵɵadvance(1),o.ɵɵproperty("ngForOf",n._roles.ORGANIZATIONS)}}var E=function(){function e(e,t){this.bsModalRef=e,this.authService=t,this.message=null,this.onRoleIdsUpdate=new a.EventEmitter,this._roleIds=[],this.newInstance=!0,this.isSRA=t.isSRA(),this.isAdmin=t.isAdmin(),this.isMaintainer=this.isAdmin||t.isMaintainer(),this.isContributor=this.isAdmin||this.isMaintainer||t.isContributer()}return Object.defineProperty(e.prototype,"roles",{set:function(e){e&&(this._roles=this.formatRoles(e),this.onChangeRole())},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.formatRoles=function(e){var t=this,n={SRA:null,ORGANIZATIONS:[]};return e.forEach((function(e){if(e.orgCode){var a=!1;if(n.ORGANIZATIONS.forEach((function(n){if(n.ORGANIZATIONLABEL===e.orgLabel.localizedValue){if("RA"===e.type)n.RA=e;else if(!t.addToGeoObjectTypeGroup(n,e)){var r={GEOOBJECTTYPEROLESGROUP:[e],ENABLEDROLE:"",GEOOBJECTTYPELABEL:e.geoObjectTypeLabel.localizedValue};e.assigned&&(r.ENABLEDROLE=e.name),n.GEOOBJECTTYPEROLES.push(r)}a=!0}})),!a){var r={ORGANIZATIONLABEL:null,RA:null,GEOOBJECTTYPEROLES:[]};if("RA"===e.type)r.ORGANIZATIONLABEL=e.orgLabel.localizedValue,r.RA=e;else{r.ORGANIZATIONLABEL=e.orgLabel.localizedValue;var o={GEOOBJECTTYPEROLESGROUP:[e],ENABLEDROLE:"",GEOOBJECTTYPELABEL:e.geoObjectTypeLabel.localizedValue};e.assigned&&(o.ENABLEDROLE=e.name),r.GEOOBJECTTYPEROLES.push(o)}n.ORGANIZATIONS.push(r)}}else"SRA"===e.type&&(n.SRA=e)})),this.sortRoles(n),n},e.prototype.sortRoles=function(e){e.ORGANIZATIONS.forEach((function(e){e.GEOOBJECTTYPEROLES.forEach((function(e){e.GEOOBJECTTYPEROLESGROUP.sort((function(e,t){return r.RegistryRoleType[e.type]<r.RegistryRoleType[t.type]?-1:r.RegistryRoleType[e.type]>r.RegistryRoleType[t.type]?1:0}))}))}))},e.prototype.addToGeoObjectTypeGroup=function(e,t){var n=!1;return e.GEOOBJECTTYPEROLES.forEach((function(e){e.GEOOBJECTTYPELABEL===t.geoObjectTypeLabel.localizedValue&&(t.assigned&&(e.ENABLEDROLE=t.name),e.GEOOBJECTTYPEROLESGROUP.push(t),n=!0)})),n},e.prototype.onToggleOrgRA=function(e,t){t.RA.assigned=e,t.RA.assigned&&t.GEOOBJECTTYPEROLES.forEach((function(e){e.ENABLEDROLE=""})),this.onChangeRole()},e.prototype.onToggleSRA=function(e,t){this._roles.ORGANIZATIONS.forEach((function(e){e.GEOOBJECTTYPEROLES.forEach((function(e){e.ENABLEDROLE=""}))}))},e.prototype.setGroupRole=function(e,t,n){e.ENABLEDROLE=null===t?"":n.target.checked?t.name:"",this.onChangeRole()},e.prototype.onChangeRole=function(){var e=[];this._roles.ORGANIZATIONS.forEach((function(t){t.RA&&t.RA.assigned?e.push(t.RA.name):t.GEOOBJECTTYPEROLES.forEach((function(t){t.ENABLEDROLE&&t.ENABLEDROLE.length>0&&e.push(t.ENABLEDROLE)}))})),this._roles.SRA&&this._roles.SRA.assigned&&e.push(this._roles.SRA.name),this._roleIds=e,this.onRoleIdsUpdate.emit(this._roleIds)},e.prototype.removeRoleId=function(e){var t=this._roleIds.indexOf(e);-1!==t&&this._roleIds.splice(t,1),this.onRoleIdsUpdate.emit(JSON.stringify(this._roleIds))},e.prototype.showData=function(){console.log(this._roles)},e.prototype.error=function(e){null!==e&&(this.message=e.error.localizedMessage||e.error.message||e.message)},e.ɵfac=function(t){return new(t||e)(o.ɵɵdirectiveInject(i.BsModalRef),o.ɵɵdirectiveInject(l.AuthService))},e.ɵcmp=o.ɵɵdefineComponent({type:e,selectors:[["role-management"]],inputs:{roles:"roles",newInstance:"newInstance"},outputs:{onRoleIdsUpdate:"onRoleIdsUpdate"},decls:6,vars:1,consts:[[4,"ngIf"],["class","row","style","padding: 20px;",4,"ngIf"],["class","row-holder",4,"ngFor","ngForOf"],[1,"row",2,"padding","20px"],[1,"col-sm-12"],[3,"value","label","disable","valueChange","change"],[1,"row-holder"],[1,"heading"],[1,"row"],[1,"col-sm-12","org-container",2,"padding-left","50px","padding-right","50px"],[3,"disabled"],[4,"ngFor","ngForOf"],["class","radio",4,"ngFor","ngForOf"],[1,"radio"],["type","checkbox",3,"value","checked","name","change"],[2,"font-weight","400"]],template:function(e,t){1&e&&(o.ɵɵelementStart(0,"div"),o.ɵɵelement(1,"message"),o.ɵɵelement(2,"loading-bar"),o.ɵɵelementStart(3,"form"),o.ɵɵelementStart(4,"fieldset"),o.ɵɵtemplate(5,S,3,2,"div",0),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd()),2&e&&(o.ɵɵadvance(5),o.ɵɵproperty("ngIf",t._roles))},directives:[c.MessageComponent,s.LoadingBarComponent,d.ɵangular_packages_forms_forms_y,d.NgControlStatusGroup,d.NgForm,m.NgIf,m.NgForOf,p.BooleanFieldComponent],styles:[".modal-section-header[_ngcontent-%COMP%] {\n\tpadding: 15px;\n\tborder-bottom: 1px solid #e5e5e5;\n}\n\n.modal-form[_ngcontent-%COMP%]   .label-holder[_ngcontent-%COMP%] {\n\twidth: 20%;\n\tmargin: 0;\n}\n\n.modal-form[_ngcontent-%COMP%]   .holder[_ngcontent-%COMP%] {\n\twidth: 80%;\n\tborder-left: none;\n}\n\n.inline-radio-input[_ngcontent-%COMP%] {\n\theight: auto;\n}",".modal-form[_ngcontent-%COMP%]   .check-block[_ngcontent-%COMP%]   .chk-area[_ngcontent-%COMP%] { margin: 10px 0px 0 0;}"]}),e}();t.RoleManagementComponent=E},603:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(0),n(29);var a=n(666),r=(n(592),n(590),n(0)),o=n(590),i=n(29),l=n(592),c=n(118),s=n(117),d=n(27),m=n(2),p=n(55),u=n(602),v=n(97);function g(e,t){if(1&e&&(r.ɵɵelementStart(0,"div",16),r.ɵɵtext(1),r.ɵɵelementEnd()),2&e){var n=r.ɵɵnextContext();r.ɵɵadvance(1),r.ɵɵtextInterpolate(n.message)}}function f(e,t){1&e&&(r.ɵɵelementStart(0,"div",17),r.ɵɵelement(1,"localize",18),r.ɵɵelementEnd())}function h(e,t){if(1&e){var n=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"role-management",19),r.ɵɵlistener("onRoleIdsUpdate",(function(e){return r.ɵɵrestoreView(n),r.ɵɵnextContext().onRoleIdsUpdate(e)})),r.ɵɵelementEnd()}if(2&e){var a=r.ɵɵnextContext();r.ɵɵproperty("newInstance",!0)("roles",a.invite.roles)}}var S=function(){function e(e,t,n){this.service=e,this.bsModalRef=t,this.settingsService=n,this.message=null,this.roleIds=[]}return e.prototype.ngOnInit=function(){var e=this;this.invite=new a.UserInvite,this.service.newInvite().then((function(t){e.invite.roles=t.roles})).catch((function(t){e.error(t)}))},e.prototype.cancel=function(){this.bsModalRef.hide()},e.prototype.onRoleIdsUpdate=function(e){this.roleIds=e},e.prototype.onSubmit=function(){var e=this;this.service.inviteUser(this.invite,this.roleIds).then((function(){e.bsModalRef.hide()})).catch((function(t){e.error(t)}))},e.prototype.error=function(e){null!==e&&(this.message=e.error.localizedMessage||e.error.message||e.message)},e.ɵfac=function(t){return new(t||e)(r.ɵɵdirectiveInject(o.AccountService),r.ɵɵdirectiveInject(i.BsModalRef),r.ɵɵdirectiveInject(l.SettingsService))},e.ɵcmp=r.ɵɵdefineComponent({type:e,selectors:[["account-invite"]],decls:29,vars:11,consts:[[1,"modal-form",2,"height","calc(100vh - 144px)","padding-bottom","20px","overflow-y","auto",3,"ngSubmit"],["form","ngForm"],[1,"heading"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"row-holder"],[1,"label-holder"],["key","account.email"],[1,"holder"],[1,"text"],["type","text","name","email","required","","email","",3,"ngModel","ngModelChange"],["aemail","ngModel"],["class","inline-error-message",4,"ngIf"],[3,"newInstance","roles","onRoleIdsUpdate",4,"ngIf"],[1,"button-holder"],["type","button",1,"btn","btn-default",3,"value","click"],["type","submit",1,"btn","btn-primary",3,"value","disabled"],["role","alert",1,"alert","alert-danger"],[1,"inline-error-message"],["key","account.email.validation"],[3,"newInstance","roles","onRoleIdsUpdate"]],template:function(e,t){if(1&e){var n=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"div"),r.ɵɵelement(1,"message"),r.ɵɵelement(2,"loading-bar"),r.ɵɵelementStart(3,"form",0,1),r.ɵɵlistener("ngSubmit",(function(){return r.ɵɵrestoreView(n),r.ɵɵreference(4).valid&&t.onSubmit()})),r.ɵɵelementStart(5,"fieldset"),r.ɵɵelementStart(6,"div",2),r.ɵɵelementStart(7,"h3"),r.ɵɵtext(8,"Invite a User"),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelement(9,"hr"),r.ɵɵtemplate(10,g,2,1,"div",3),r.ɵɵelementStart(11,"div",4),r.ɵɵelementStart(12,"div",5),r.ɵɵelementStart(13,"label"),r.ɵɵelement(14,"localize",6),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(15,"div",7),r.ɵɵelementStart(16,"span",8),r.ɵɵelementStart(17,"input",9,10),r.ɵɵlistener("ngModelChange",(function(e){return t.invite.email=e})),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵtemplate(19,f,2,0,"div",11),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵtemplate(20,h,1,2,"role-management",12),r.ɵɵelementStart(21,"div",4),r.ɵɵelement(22,"div",5),r.ɵɵelementStart(23,"div",7),r.ɵɵelementStart(24,"div",13),r.ɵɵelementStart(25,"input",14),r.ɵɵlistener("click",(function(){return t.cancel()})),r.ɵɵpipe(26,"localize"),r.ɵɵelementEnd(),r.ɵɵelement(27,"input",15),r.ɵɵpipe(28,"localize"),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd()}if(2&e){var a=r.ɵɵreference(4),o=r.ɵɵreference(18);r.ɵɵadvance(10),r.ɵɵproperty("ngIf",null!=t.message),r.ɵɵadvance(7),r.ɵɵproperty("ngModel",t.invite.email),r.ɵɵadvance(2),r.ɵɵproperty("ngIf",(null==o.errors?null:o.errors.email)&&t.invite.email&&t.invite.email.length>0),r.ɵɵadvance(1),r.ɵɵproperty("ngIf",t.invite.roles),r.ɵɵadvance(5),r.ɵɵproperty("value",r.ɵɵpipeBind1(26,7,"dataset.cancel")),r.ɵɵadvance(2),r.ɵɵproperty("value",r.ɵɵpipeBind1(28,9,"dataset.submit"))("disabled",!(a.valid&&t.roleIds.length>0))}},directives:[c.MessageComponent,s.LoadingBarComponent,d.ɵangular_packages_forms_forms_y,d.NgControlStatusGroup,d.NgForm,m.NgIf,p.LocalizeComponent,d.DefaultValueAccessor,d.RequiredValidator,d.EmailValidator,d.NgControlStatus,d.NgModel,u.RoleManagementComponent],pipes:[v.LocalizePipe],styles:[".modal-form[_ngcontent-%COMP%]   .check-block[_ngcontent-%COMP%]   .chk-area[_ngcontent-%COMP%] { margin: 10px 0px 0 0;}"]}),e}();t.AccountInviteComponent=S},604:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(0),n(28),n(29);var a=n(34),r=n(242),o=(n(44),n(0)),i=n(28),l=n(44),c=n(29),s=n(118),d=n(117),m=n(27),p=n(2),u=n(242),v=n(55),g=n(97),f=["uploadEl"];function h(e,t){if(1&e&&(o.ɵɵelementStart(0,"div",19),o.ɵɵtext(1),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext();o.ɵɵadvance(1),o.ɵɵtextInterpolate(n.message)}}function S(e,t){if(1&e&&o.ɵɵelement(0,"img",20),2&e){var n=o.ɵɵnextContext();o.ɵɵproperty("src",n.context+"/logo/view?oid="+n.icon.oid,o.ɵɵsanitizeUrl)}}function E(e,t){if(1&e&&o.ɵɵelement(0,"img",20),2&e){var n=o.ɵɵnextContext();o.ɵɵproperty("src",n.file,o.ɵɵsanitizeUrl)}}var y=function(e){return{"drop-active":e}},b=function(){function e(e,t,n){this.route=e,this.eventService=t,this.bsModalRef=n,this.message=null,this.dropActive=!1,this.context=acp}return e.prototype.ngOnInit=function(){var e=this;this.onSuccess=new a.Subject;var t={autoUpload:!1,queueLimit:1,removeAfterUpload:!0,url:acp+"/logo/apply"};this.uploader=new r.FileUploader(t),this.uploader.onBeforeUploadItem=function(t){e.eventService.start()},this.uploader.onCompleteItem=function(t,n,a,r){e.eventService.complete()},this.uploader.onSuccessItem=function(t,n,a,r){e.onSuccess.next(t),e.bsModalRef.hide()},this.uploader.onErrorItem=function(t,n,a,r){e.error(n)},this.uploader.onBuildItemForm=function(t,n){n.append("oid",e.icon.oid)}},e.prototype.ngAfterViewInit=function(){var e=this,t=this;this.uploader.onAfterAddingFile=function(n){e.uploadElRef.nativeElement.value="";var a=new FileReader;a.onload=function(e){t.file=a.result},a.readAsDataURL(n._file)}},e.prototype.fileOver=function(e){this.dropActive=e},e.prototype.cancel=function(){this.bsModalRef.hide()},e.prototype.onSubmit=function(){null==this.file?this.bsModalRef.hide():this.uploader.uploadAll()},e.prototype.clear=function(){this.file=null,this.uploader.clearQueue()},e.prototype.error=function(e){null!==e&&(this.message=e)},e.ɵfac=function(t){return new(t||e)(o.ɵɵdirectiveInject(i.ActivatedRoute),o.ɵɵdirectiveInject(l.EventService),o.ɵɵdirectiveInject(c.BsModalRef))},e.ɵcmp=o.ɵɵdefineComponent({type:e,selectors:[["system-logo"]],viewQuery:function(e,t){var n;(1&e&&o.ɵɵviewQuery(f,!0),2&e)&&(o.ɵɵqueryRefresh(n=o.ɵɵloadQuery())&&(t.uploadElRef=n.first))},decls:31,vars:14,consts:[[1,"modal-form",3,"ngSubmit"],["form","ngForm"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"row-holder"],[1,"label-holder"],[1,"holder"],[1,"text"],["style","max-width:300px;max-height:300px;","class","thumb",3,"src",4,"ngIf"],["ng2FileDrop","",1,"drop-box-container",3,"ngClass","uploader","fileOver","click"],[1,"drop-box"],[1,"inner-drop-box"],[1,"fa","fa-cloud-upload"],[1,"upload-text"],["key","system.image.uploadText"],["type","file","ng2FileSelect","","id","uploader-input",2,"display","none",3,"uploader"],["uploadEl","","fileInput",""],[1,"button-holder"],["type","button",1,"btn","btn-default",3,"value","click"],["type","submit",1,"btn","btn-primary",3,"value","disabled"],["role","alert",1,"alert","alert-danger"],[1,"thumb",2,"max-width","300px","max-height","300px",3,"src"]],template:function(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"div"),o.ɵɵelement(1,"message"),o.ɵɵelement(2,"loading-bar"),o.ɵɵelementStart(3,"form",0,1),o.ɵɵlistener("ngSubmit",(function(){return o.ɵɵrestoreView(n),o.ɵɵreference(4).valid&&t.onSubmit()})),o.ɵɵtemplate(5,h,2,1,"div",2),o.ɵɵelementStart(6,"fieldset"),o.ɵɵelementStart(7,"div",3),o.ɵɵelement(8,"div",4),o.ɵɵelementStart(9,"div",5),o.ɵɵelementStart(10,"span",6),o.ɵɵelementStart(11,"div"),o.ɵɵtemplate(12,S,1,1,"img",7),o.ɵɵtemplate(13,E,1,1,"img",7),o.ɵɵelementEnd(),o.ɵɵelementStart(14,"div",8),o.ɵɵlistener("fileOver",(function(e){return t.fileOver(e)}))("click",(function(){return o.ɵɵrestoreView(n),o.ɵɵreference(22).click()})),o.ɵɵelementStart(15,"div",9),o.ɵɵelementStart(16,"div",10),o.ɵɵelementStart(17,"i",11),o.ɵɵelementStart(18,"p",12),o.ɵɵelement(19,"localize",13),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelement(20,"input",14,15),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(23,"div",3),o.ɵɵelement(24,"div",4),o.ɵɵelementStart(25,"div",5),o.ɵɵelementStart(26,"div",16),o.ɵɵelementStart(27,"input",17),o.ɵɵlistener("click",(function(){return t.cancel()})),o.ɵɵpipe(28,"localize"),o.ɵɵelementEnd(),o.ɵɵelementStart(29,"input",18),o.ɵɵlistener("disabled",(function(){return o.ɵɵrestoreView(n),o.ɵɵreference(4).invalid})),o.ɵɵpipe(30,"localize"),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd()}2&e&&(o.ɵɵadvance(5),o.ɵɵproperty("ngIf",null!=t.message),o.ɵɵadvance(7),o.ɵɵproperty("ngIf",!t.file&&t.icon),o.ɵɵadvance(1),o.ɵɵproperty("ngIf",t.file),o.ɵɵadvance(1),o.ɵɵproperty("ngClass",o.ɵɵpureFunction1(12,y,t.dropActive))("uploader",t.uploader),o.ɵɵadvance(6),o.ɵɵproperty("uploader",t.uploader),o.ɵɵadvance(7),o.ɵɵproperty("value",o.ɵɵpipeBind1(28,8,"dataset.cancel")),o.ɵɵadvance(2),o.ɵɵproperty("value",o.ɵɵpipeBind1(30,10,"category.icon.ok")))},directives:[s.MessageComponent,d.LoadingBarComponent,m.ɵangular_packages_forms_forms_y,m.NgControlStatusGroup,m.NgForm,p.NgIf,u.FileDropDirective,p.NgClass,v.LocalizeComponent,u.FileSelectDirective],pipes:[g.LocalizePipe],encapsulation:2}),e}();t.SystemLogoComponent=b},605:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(0),n(28),n(29);var a=n(328),r=(n(33),n(604)),o=(n(598),n(0)),i=n(28),l=n(598),c=n(29),s=n(33),d=n(2),m=n(55),p=n(97);function u(e,t){if(1&e&&(o.ɵɵelementStart(0,"div",8),o.ɵɵtext(1),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext();o.ɵɵadvance(1),o.ɵɵtextInterpolate(n.message)}}function v(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"a",15),o.ɵɵlistener("click",(function(e){o.ɵɵrestoreView(n);var t=o.ɵɵnextContext().$implicit;return o.ɵɵnextContext().onClickRemove(t,e)})),o.ɵɵpipe(1,"localize"),o.ɵɵelementEnd()}2&e&&o.ɵɵproperty("title",o.ɵɵpipeBind1(1,1,"system.image.removeTooltip"))}function g(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"tr",9),o.ɵɵelementStart(1,"td",10),o.ɵɵelementStart(2,"span"),o.ɵɵelementStart(3,"a",11),o.ɵɵlistener("click",(function(){o.ɵɵrestoreView(n);var e=t.$implicit;return o.ɵɵnextContext().edit(e)})),o.ɵɵpipe(4,"localize"),o.ɵɵelementEnd(),o.ɵɵtemplate(5,v,2,3,"a",12),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(6,"td",3),o.ɵɵtext(7),o.ɵɵelementEnd(),o.ɵɵelementStart(8,"td",13),o.ɵɵelement(9,"img",14),o.ɵɵelementEnd(),o.ɵɵelementEnd()}if(2&e){var a=t.$implicit,r=o.ɵɵnextContext();o.ɵɵadvance(3),o.ɵɵproperty("title",o.ɵɵpipeBind1(4,4,"system.image.editTooltip")),o.ɵɵadvance(2),o.ɵɵproperty("ngIf",a.custom),o.ɵɵadvance(2),o.ɵɵtextInterpolate(a.label),o.ɵɵadvance(2),o.ɵɵproperty("src",r.context+"/logo/view?oid="+a.oid+"&random="+r.random,o.ɵɵsanitizeUrl)}}function f(e,t){1&e&&(o.ɵɵelementStart(0,"div"),o.ɵɵelement(1,"localize",16),o.ɵɵelementEnd())}var h=function(){function e(e,t,n,a,r){this.router=e,this.service=t,this.modalService=n,this.localizeService=a,this.changeDetectorRef=r,this.message=null,this.random=0,this.context=acp}return e.prototype.ngOnInit=function(){this.getIcons()},e.prototype.onClickRemove=function(e){var t=this;this.bsModalRef=this.modalService.show(a.ConfirmModalComponent,{animated:!0,backdrop:!0,ignoreBackdropClick:!0}),this.bsModalRef.content.message=this.localizeService.decode("system.image.removeContent"),this.bsModalRef.content.submitText=this.localizeService.decode("modal.button.delete"),this.bsModalRef.content.onConfirm.subscribe((function(n){t.remove(e)}))},e.prototype.getIcons=function(){var e=this;this.service.getIcons().then((function(t){e.icons=t.icons})).catch((function(t){e.error(t)}))},e.prototype.edit=function(e){var t=this,n=this.modalService.show(r.SystemLogoComponent,{animated:!0,backdrop:!0,ignoreBackdropClick:!0});n.content.icon=e,n.content.onSuccess.subscribe((function(e){t.icons.forEach((function(e){t.random=Math.random(),e.oid=e.oid})),t.changeDetectorRef.detectChanges()}))},e.prototype.remove=function(e){var t=this;this.service.remove(e.oid).then((function(t){e.custom=!1})).catch((function(e){t.error(e)}))},e.prototype.error=function(e){null!==e&&(this.message=e.error.localizedMessage||e.error.message||e.message)},e.ɵfac=function(t){return new(t||e)(o.ɵɵdirectiveInject(i.Router),o.ɵɵdirectiveInject(l.SystemLogoService),o.ɵɵdirectiveInject(c.BsModalService),o.ɵɵdirectiveInject(s.LocalizationService),o.ɵɵdirectiveInject(o.ChangeDetectorRef))},e.ɵcmp=o.ɵɵdefineComponent({type:e,selectors:[["system-logos"]],decls:14,vars:3,consts:[["class","alert alert-danger","role","alert",4,"ngIf"],[1,"list-table-wrapper"],["id","manage-icons-table",1,"list-table","table","table-bordered","table-striped"],[1,"label-column"],["key","system.image.label"],["key","system.image.preview"],["class","fade-ngRepeat-item",4,"ngFor","ngForOf"],[4,"ngIf"],["role","alert",1,"alert","alert-danger"],[1,"fade-ngRepeat-item"],[1,"button-column"],[1,"fa","fa-pencil","ico-edit",3,"title","click"],["class","fa fa-trash-o ico-remove",3,"title","click",4,"ngIf"],[1,"icon-thumbnail-column"],["alt","Icon",1,"thumb",2,"width","42px","height","42px",3,"src"],[1,"fa","fa-trash-o","ico-remove",3,"title","click"],["key","dataset.loadingData"]],template:function(e,t){1&e&&(o.ɵɵelementStart(0,"div"),o.ɵɵtemplate(1,u,2,1,"div",0),o.ɵɵelementStart(2,"div",1),o.ɵɵelementStart(3,"table",2),o.ɵɵelementStart(4,"thead"),o.ɵɵelementStart(5,"tr"),o.ɵɵelement(6,"th"),o.ɵɵelementStart(7,"th",3),o.ɵɵelement(8,"localize",4),o.ɵɵelementEnd(),o.ɵɵelementStart(9,"th",3),o.ɵɵelement(10,"localize",5),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(11,"tbody"),o.ɵɵtemplate(12,g,10,6,"tr",6),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵtemplate(13,f,2,0,"div",7),o.ɵɵelementEnd()),2&e&&(o.ɵɵadvance(1),o.ɵɵproperty("ngIf",null!=t.message),o.ɵɵadvance(11),o.ɵɵproperty("ngForOf",t.icons),o.ɵɵadvance(1),o.ɵɵproperty("ngIf",null===t.icons))},directives:[d.NgIf,m.LocalizeComponent,d.NgForOf],pipes:[p.LocalizePipe],encapsulation:2}),e}();t.SystemLogosComponent=h},606:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(0),n(28),n(2);var a=n(34),r=(n(599),n(29),n(0)),o=n(599),i=n(28),l=n(2),c=n(29),s=n(118),d=n(117),m=n(27),p=n(55),u=n(97);function v(e,t){if(1&e&&(r.ɵɵelementStart(0,"div",29),r.ɵɵtext(1),r.ɵɵelementEnd()),2&e){var n=r.ɵɵnextContext();r.ɵɵadvance(1),r.ɵɵtextInterpolate(n.message)}}function g(e,t){1&e&&(r.ɵɵelementStart(0,"div",30),r.ɵɵelement(1,"localize",31),r.ɵɵelementEnd())}function f(e,t){1&e&&(r.ɵɵelementStart(0,"div",30),r.ɵɵelement(1,"localize",32),r.ɵɵelementEnd())}function h(e,t){1&e&&(r.ɵɵelementStart(0,"div",30),r.ɵɵelement(1,"localize",33),r.ɵɵelementEnd())}function S(e,t){1&e&&(r.ɵɵelementStart(0,"div",30),r.ɵɵelement(1,"localize",34),r.ɵɵelementEnd())}var E=function(){function e(e,t,n,a,r){this.service=e,this.router=t,this.route=n,this.location=a,this.bsModalRef=r,this.message=null,this.email={oid:"",server:"",username:"",password:"",port:0,from:"",to:""}}return e.prototype.ngOnInit=function(){var e=this;this.service.getInstance().then((function(t){e.email=t})),this.onSuccess=new a.Subject},e.prototype.cancel=function(){this.bsModalRef.hide()},e.prototype.onSubmit=function(){var e=this;this.service.apply(this.email).then((function(t){e.onSuccess.next(!0),e.bsModalRef.hide()})).catch((function(t){e.error(t)}))},e.prototype.error=function(e){null!==e&&(this.message=e.error.localizedMessage||e.error.message||e.message)},e.ɵfac=function(t){return new(t||e)(r.ɵɵdirectiveInject(o.EmailService),r.ɵɵdirectiveInject(i.Router),r.ɵɵdirectiveInject(i.ActivatedRoute),r.ɵɵdirectiveInject(l.Location),r.ɵɵdirectiveInject(c.BsModalRef))},e.ɵcmp=r.ɵɵdefineComponent({type:e,selectors:[["email"]],decls:68,vars:18,consts:[[1,"modal-form",3,"ngSubmit"],["form","ngForm"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"heading"],["key","email.modal.heading"],[1,"row-holder"],[1,"label-holder"],["key","email.server"],[1,"holder"],[1,"text"],["type","text","name","server","required","",3,"ngModel","ngModelChange"],["server","ngModel"],["class","inline-error-message",4,"ngIf"],["key","email.username"],["type","text","name","username","required","",3,"ngModel","ngModelChange"],["key","email.password"],["type","password","name","password","required","",3,"ngModel","ngModelChange"],["key","email.port"],["type","number","name","port","required","","number","",3,"ngModel","ngModelChange"],["port","ngModel"],["key","email.from"],["type","text","name","from","required","","email","",3,"ngModel","ngModelChange"],["from","ngModel"],["key","email.to"],["type","text","name","to","email","",3,"ngModel","ngModelChange"],["to","ngModel"],[1,"button-holder"],["type","button",1,"btn","btn-default",3,"value","click"],["type","submit",1,"btn","btn-primary",3,"value","disabled"],["role","alert",1,"alert","alert-danger"],[1,"inline-error-message"],["key","email.server.validation"],["key","email.port.validation"],["key","email.from.validation"],["key","email.to.validation"]],template:function(e,t){if(1&e){var n=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"div"),r.ɵɵelement(1,"message"),r.ɵɵelement(2,"loading-bar"),r.ɵɵelementStart(3,"form",0,1),r.ɵɵlistener("ngSubmit",(function(){return r.ɵɵrestoreView(n),r.ɵɵreference(4).valid&&t.onSubmit()})),r.ɵɵtemplate(5,v,2,1,"div",2),r.ɵɵelementStart(6,"div",3),r.ɵɵelementStart(7,"h1"),r.ɵɵelement(8,"localize",4),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(9,"fieldset"),r.ɵɵelementStart(10,"div",5),r.ɵɵelementStart(11,"div",6),r.ɵɵelementStart(12,"label"),r.ɵɵelement(13,"localize",7),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(14,"div",8),r.ɵɵelementStart(15,"span",9),r.ɵɵelementStart(16,"input",10,11),r.ɵɵlistener("ngModelChange",(function(e){return t.email.server=e})),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵtemplate(18,g,2,0,"div",12),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(19,"div",5),r.ɵɵelementStart(20,"div",6),r.ɵɵelementStart(21,"label"),r.ɵɵelement(22,"localize",13),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(23,"div",8),r.ɵɵelementStart(24,"span",9),r.ɵɵelementStart(25,"input",14),r.ɵɵlistener("ngModelChange",(function(e){return t.email.username=e})),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(26,"div",5),r.ɵɵelementStart(27,"div",6),r.ɵɵelementStart(28,"label"),r.ɵɵelement(29,"localize",15),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(30,"div",8),r.ɵɵelementStart(31,"span",9),r.ɵɵelementStart(32,"input",16),r.ɵɵlistener("ngModelChange",(function(e){return t.email.password=e})),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(33,"div",5),r.ɵɵelementStart(34,"div",6),r.ɵɵelementStart(35,"label"),r.ɵɵelement(36,"localize",17),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(37,"div",8),r.ɵɵelementStart(38,"span",9),r.ɵɵelementStart(39,"input",18,19),r.ɵɵlistener("ngModelChange",(function(e){return t.email.port=e})),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵtemplate(41,f,2,0,"div",12),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(42,"div",5),r.ɵɵelementStart(43,"div",6),r.ɵɵelementStart(44,"label"),r.ɵɵelement(45,"localize",20),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(46,"div",8),r.ɵɵelementStart(47,"span",9),r.ɵɵelementStart(48,"input",21,22),r.ɵɵlistener("ngModelChange",(function(e){return t.email.from=e})),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵtemplate(50,h,2,0,"div",12),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(51,"div",5),r.ɵɵelementStart(52,"div",6),r.ɵɵelementStart(53,"label"),r.ɵɵelement(54,"localize",23),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(55,"div",8),r.ɵɵelementStart(56,"span",9),r.ɵɵelementStart(57,"input",24,25),r.ɵɵlistener("ngModelChange",(function(e){return t.email.to=e})),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵtemplate(59,S,2,0,"div",12),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(60,"div",5),r.ɵɵelement(61,"div",6),r.ɵɵelementStart(62,"div",8),r.ɵɵelementStart(63,"div",26),r.ɵɵelementStart(64,"input",27),r.ɵɵlistener("click",(function(){return t.cancel()})),r.ɵɵpipe(65,"localize"),r.ɵɵelementEnd(),r.ɵɵelement(66,"input",28),r.ɵɵpipe(67,"localize"),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd()}if(2&e){var a=r.ɵɵreference(4),o=r.ɵɵreference(17),i=r.ɵɵreference(40),l=r.ɵɵreference(49),c=r.ɵɵreference(58);r.ɵɵadvance(5),r.ɵɵproperty("ngIf",null!=t.message),r.ɵɵadvance(11),r.ɵɵproperty("ngModel",t.email.server),r.ɵɵadvance(2),r.ɵɵproperty("ngIf",null==o.errors?null:o.errors.url),r.ɵɵadvance(7),r.ɵɵproperty("ngModel",t.email.username),r.ɵɵadvance(7),r.ɵɵproperty("ngModel",t.email.password),r.ɵɵadvance(7),r.ɵɵproperty("ngModel",t.email.port),r.ɵɵadvance(2),r.ɵɵproperty("ngIf",null==i.errors?null:i.errors.number),r.ɵɵadvance(7),r.ɵɵproperty("ngModel",t.email.from),r.ɵɵadvance(2),r.ɵɵproperty("ngIf",null==l.errors?null:l.errors.email),r.ɵɵadvance(7),r.ɵɵproperty("ngModel",t.email.to),r.ɵɵadvance(2),r.ɵɵproperty("ngIf",null==c.errors?null:c.errors.email),r.ɵɵadvance(5),r.ɵɵproperty("value",r.ɵɵpipeBind1(65,14,"dataset.cancel")),r.ɵɵadvance(2),r.ɵɵproperty("value",r.ɵɵpipeBind1(67,16,"dataset.submit"))("disabled",!a.valid)}},directives:[s.MessageComponent,d.LoadingBarComponent,m.ɵangular_packages_forms_forms_y,m.NgControlStatusGroup,m.NgForm,l.NgIf,p.LocalizeComponent,m.DefaultValueAccessor,m.RequiredValidator,m.NgControlStatus,m.NgModel,m.NumberValueAccessor,m.EmailValidator],pipes:[u.LocalizePipe],encapsulation:2}),e}();t.EmailComponent=E},618:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(0),n(29);var a=n(240),r=(n(590),n(601)),o=n(0),i=n(590),l=n(29),c=n(241),s=n(118),d=n(55),m=n(2),p=n(243),u=n(97),v=n(334);function g(e,t){if(1&e&&(o.ɵɵelementStart(0,"div",16),o.ɵɵtext(1),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext();o.ɵɵadvance(1),o.ɵɵtextInterpolate(n.message)}}var f=function(e){return{inactive:e}};function h(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"tr",17),o.ɵɵelementStart(1,"td",14),o.ɵɵelementStart(2,"a",18),o.ɵɵlistener("click",(function(e){o.ɵɵrestoreView(n);var a=t.$implicit;return o.ɵɵnextContext().edit(a,e)})),o.ɵɵpipe(3,"localize"),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(4,"td",19),o.ɵɵtext(5),o.ɵɵelementEnd(),o.ɵɵelementStart(6,"td",20),o.ɵɵtext(7),o.ɵɵelementEnd(),o.ɵɵelementStart(8,"td",21),o.ɵɵtext(9),o.ɵɵelementEnd(),o.ɵɵelementStart(10,"td",22),o.ɵɵtext(11),o.ɵɵpipe(12,"phone"),o.ɵɵelementEnd(),o.ɵɵelementStart(13,"td",23),o.ɵɵtext(14),o.ɵɵelementEnd(),o.ɵɵelementEnd()}if(2&e){var a=t.$implicit;o.ɵɵproperty("ngClass",o.ɵɵpureFunction1(11,f,a.inactive)),o.ɵɵadvance(2),o.ɵɵproperty("title",o.ɵɵpipeBind1(3,7,"account.editTooltip")),o.ɵɵadvance(3),o.ɵɵtextInterpolate(a.username),o.ɵɵadvance(2),o.ɵɵtextInterpolate(a.firstName),o.ɵɵadvance(2),o.ɵɵtextInterpolate(a.lastName),o.ɵɵadvance(2),o.ɵɵtextInterpolate(o.ɵɵpipeBind1(12,9,a.phoneNumber)),o.ɵɵadvance(3),o.ɵɵtextInterpolate(a.email)}}var S=function(e,t,n){return{itemsPerPage:e,currentPage:t,totalItems:n}},E=function(){function e(e,t){this.service=e,this.modalService=t,this.res={resultSet:[],count:0,pageNumber:1,pageSize:10},this.message=null}return e.prototype.ngOnInit=function(){var e=this;this.service.page(1).then((function(t){e.res=t})).catch((function(t){e.error(t)}))},e.prototype.edit=function(e){this.bsModalRef=this.modalService.show(r.AccountComponent,{animated:!0,backdrop:!0,ignoreBackdropClick:!0}),this.bsModalRef.content.oid=e.oid;var t=this;this.bsModalRef.content.onEdit.subscribe((function(e){var n=t.res.resultSet.map((function(e){return e.oid})).indexOf(e.oid);-1!==n&&(t.res.resultSet[n]=e)}))},e.prototype.newInstance=function(){var e=this;this.bsModalRef=this.modalService.show(r.AccountComponent,{animated:!0,backdrop:!0,ignoreBackdropClick:!0}),this.bsModalRef.content.oid="NEW",this.bsModalRef.content.onEdit.subscribe((function(t){e.onPageChange(e.res.pageNumber)}))},e.prototype.onPageChange=function(e){var t=this;this.service.page(e).then((function(e){t.res=e})).catch((function(e){t.error(e)}))},e.prototype.error=function(e){null!==e&&(this.bsModalRef=this.modalService.show(a.ErrorModalComponent,{backdrop:!0}),this.bsModalRef.content.message=e.error.localizedMessage||e.error.message||e.message)},e.ɵfac=function(t){return new(t||e)(o.ɵɵdirectiveInject(i.AccountService),o.ɵɵdirectiveInject(l.BsModalService))},e.ɵcmp=o.ɵɵdefineComponent({type:e,selectors:[["accounts"]],decls:31,vars:12,consts:[[1,"new-admin-design-main"],["id","app-container",1,"container-fluid"],["key","accounts.title"],["class","alert alert-danger","role","alert",4,"ngIf"],[3,"pageChange"],[1,"list-table-wrapper"],["id","manage-accounts-table",1,"list-table","table","table-bordered","table-striped"],[1,"label-column"],["key","account.username"],["key","account.firstname"],["key","account.lastname"],["key","account.phonenumber"],["key","account.email"],["class","fade-ngRepeat-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"button-column"],[1,"fa","fa-plus",3,"title","click"],["role","alert",1,"alert","alert-danger"],[1,"fade-ngRepeat-item",3,"ngClass"],[1,"fa","fa-pencil","ico-edit",3,"title","click"],[1,"label-column","username-col"],[1,"label-column","firstname-col"],[1,"label-column","lastname-col"],[1,"label-column","phone-col"],[1,"label-column","email-col"]],template:function(e,t){1&e&&(o.ɵɵelementStart(0,"div",0),o.ɵɵelement(1,"cgr-header"),o.ɵɵelementStart(2,"div",1),o.ɵɵelement(3,"message"),o.ɵɵelementStart(4,"h2"),o.ɵɵelement(5,"localize",2),o.ɵɵelementEnd(),o.ɵɵtemplate(6,g,2,1,"div",3),o.ɵɵelementStart(7,"pagination-controls",4),o.ɵɵlistener("pageChange",(function(e){return t.onPageChange(e)})),o.ɵɵelementEnd(),o.ɵɵelementStart(8,"div",5),o.ɵɵelementStart(9,"table",6),o.ɵɵelementStart(10,"thead"),o.ɵɵelementStart(11,"tr"),o.ɵɵelement(12,"th"),o.ɵɵelementStart(13,"th",7),o.ɵɵelement(14,"localize",8),o.ɵɵelementEnd(),o.ɵɵelementStart(15,"th",7),o.ɵɵelement(16,"localize",9),o.ɵɵelementEnd(),o.ɵɵelementStart(17,"th",7),o.ɵɵelement(18,"localize",10),o.ɵɵelementEnd(),o.ɵɵelementStart(19,"th",7),o.ɵɵelement(20,"localize",11),o.ɵɵelementEnd(),o.ɵɵelementStart(21,"th",7),o.ɵɵelement(22,"localize",12),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(23,"tbody"),o.ɵɵtemplate(24,h,15,13,"tr",13),o.ɵɵpipe(25,"paginate"),o.ɵɵelementStart(26,"tr"),o.ɵɵelementStart(27,"td",14),o.ɵɵelementStart(28,"a",15),o.ɵɵlistener("click",(function(){return t.newInstance()})),o.ɵɵpipe(29,"localize"),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(30,"pagination-controls",4),o.ɵɵlistener("pageChange",(function(e){return t.onPageChange(e)})),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd()),2&e&&(o.ɵɵadvance(6),o.ɵɵproperty("ngIf",null!=t.message),o.ɵɵadvance(18),o.ɵɵproperty("ngForOf",o.ɵɵpipeBind2(25,3,t.res.resultSet,o.ɵɵpureFunction3(8,S,t.res.pageSize,t.res.pageNumber,t.res.count))),o.ɵɵadvance(4),o.ɵɵproperty("title",o.ɵɵpipeBind1(29,6,"account.newTooltip")))},directives:[c.CgrHeaderComponent,s.MessageComponent,d.LocalizeComponent,m.NgIf,p.PaginationControlsComponent,m.NgForOf,m.NgClass],pipes:[p.PaginatePipe,u.LocalizePipe,v.PhonePipe],styles:["tr.inactive[_ngcontent-%COMP%]{\n    color: lightgrey;\n}"]}),e}();t.AccountsComponent=E},619:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(0),n(28),n(2),n(590);var a=n(0),r=n(590),o=n(28),i=n(2),l=n(241),c=n(118),s=n(117),d=n(55),m=n(27),p=n(97);function u(e,t){if(1&e&&(a.ɵɵelementStart(0,"div",37),a.ɵɵtext(1),a.ɵɵelementEnd()),2&e){var n=a.ɵɵnextContext(2);a.ɵɵadvance(1),a.ɵɵtextInterpolate(n.message)}}function v(e,t){1&e&&(a.ɵɵelementStart(0,"div",38),a.ɵɵelement(1,"localize",39),a.ɵɵelementEnd())}function g(e,t){1&e&&(a.ɵɵelementStart(0,"div",38),a.ɵɵelement(1,"localize",40),a.ɵɵelementEnd())}function f(e,t){if(1&e){var n=a.ɵɵgetCurrentView();a.ɵɵelementStart(0,"form",5,6),a.ɵɵlistener("ngSubmit",(function(){a.ɵɵrestoreView(n);var e=a.ɵɵreference(1),t=a.ɵɵnextContext();return e.valid&&t.onSubmit()})),a.ɵɵelementStart(2,"fieldset"),a.ɵɵelementStart(3,"div",7),a.ɵɵelementStart(4,"h3"),a.ɵɵelement(5,"localize",8),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelement(6,"hr"),a.ɵɵtemplate(7,u,2,1,"div",9),a.ɵɵelementStart(8,"div",10),a.ɵɵelementStart(9,"div",11),a.ɵɵelementStart(10,"label"),a.ɵɵelement(11,"localize",12),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementStart(12,"div",13),a.ɵɵelementStart(13,"span",14),a.ɵɵelementStart(14,"input",15),a.ɵɵlistener("ngModelChange",(function(e){return a.ɵɵrestoreView(n),a.ɵɵnextContext().user.firstName=e})),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementStart(15,"div",10),a.ɵɵelementStart(16,"div",11),a.ɵɵelementStart(17,"label"),a.ɵɵelement(18,"localize",16),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementStart(19,"div",13),a.ɵɵelementStart(20,"span",14),a.ɵɵelementStart(21,"input",17),a.ɵɵlistener("ngModelChange",(function(e){return a.ɵɵrestoreView(n),a.ɵɵnextContext().user.lastName=e})),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementStart(22,"div",10),a.ɵɵelementStart(23,"div",11),a.ɵɵelementStart(24,"label"),a.ɵɵelement(25,"localize",18),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementStart(26,"div",13),a.ɵɵelementStart(27,"span",14),a.ɵɵelementStart(28,"input",19),a.ɵɵlistener("ngModelChange",(function(e){return a.ɵɵrestoreView(n),a.ɵɵnextContext().user.phoneNumber=e})),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementStart(29,"div",10),a.ɵɵelementStart(30,"div",11),a.ɵɵelementStart(31,"label"),a.ɵɵelement(32,"localize",20),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementStart(33,"div",13),a.ɵɵelementStart(34,"span",14),a.ɵɵelementStart(35,"input",21,22),a.ɵɵlistener("ngModelChange",(function(e){return a.ɵɵrestoreView(n),a.ɵɵnextContext().user.email=e})),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵtemplate(37,v,2,0,"div",23),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementStart(38,"div",7),a.ɵɵelementStart(39,"h3"),a.ɵɵelement(40,"localize",24),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelement(41,"hr"),a.ɵɵelementStart(42,"div",10),a.ɵɵelementStart(43,"div",11),a.ɵɵelementStart(44,"label"),a.ɵɵelement(45,"localize",25),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementStart(46,"div",13),a.ɵɵelementStart(47,"span",14),a.ɵɵelementStart(48,"input",26),a.ɵɵlistener("ngModelChange",(function(e){return a.ɵɵrestoreView(n),a.ɵɵnextContext().user.username=e})),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementStart(49,"div"),a.ɵɵelementStart(50,"div",10),a.ɵɵelementStart(51,"div",11),a.ɵɵelementStart(52,"label"),a.ɵɵelement(53,"localize",27),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementStart(54,"div",13),a.ɵɵelementStart(55,"span",14),a.ɵɵelementStart(56,"input",28,29),a.ɵɵlistener("ngModelChange",(function(e){return a.ɵɵrestoreView(n),a.ɵɵnextContext().user.password=e})),a.ɵɵelementEnd(),a.ɵɵelement(58,"ng2-password-strength-bar",30),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementStart(59,"div",10),a.ɵɵelementStart(60,"div",11),a.ɵɵelementStart(61,"label"),a.ɵɵelement(62,"localize",31),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementStart(63,"div",13),a.ɵɵelementStart(64,"span",14),a.ɵɵelement(65,"input",32,33),a.ɵɵelementEnd(),a.ɵɵtemplate(67,g,2,0,"div",23),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementStart(68,"div",10),a.ɵɵelement(69,"div",11),a.ɵɵelementStart(70,"div",13),a.ɵɵelementStart(71,"div",34),a.ɵɵelementStart(72,"input",35),a.ɵɵlistener("click",(function(){return a.ɵɵrestoreView(n),a.ɵɵnextContext().cancel()})),a.ɵɵpipe(73,"localize"),a.ɵɵelementEnd(),a.ɵɵelement(74,"input",36),a.ɵɵpipe(75,"localize"),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementEnd()}if(2&e){var r=a.ɵɵreference(1),o=a.ɵɵreference(36),i=a.ɵɵreference(57),l=a.ɵɵreference(66),c=a.ɵɵnextContext();a.ɵɵadvance(7),a.ɵɵproperty("ngIf",null!=c.message),a.ɵɵadvance(7),a.ɵɵproperty("ngModel",c.user.firstName),a.ɵɵadvance(7),a.ɵɵproperty("ngModel",c.user.lastName),a.ɵɵadvance(7),a.ɵɵproperty("ngModel",c.user.phoneNumber),a.ɵɵadvance(7),a.ɵɵproperty("ngModel",c.user.email),a.ɵɵadvance(2),a.ɵɵproperty("ngIf",(null==o.errors?null:o.errors.email)&&c.user.email&&c.user.email.length>0),a.ɵɵadvance(11),a.ɵɵproperty("disabled",!c.user.newInstance&&"admin"===c.user.username)("ngModel",c.user.username),a.ɵɵadvance(8),a.ɵɵproperty("ngModel",c.user.password),a.ɵɵadvance(2),a.ɵɵproperty("passwordToCheck",c.user.password),a.ɵɵadvance(7),a.ɵɵproperty("value",i),a.ɵɵadvance(2),a.ɵɵproperty("ngIf",null==l.errors?null:l.errors.equalTo),a.ɵɵadvance(5),a.ɵɵproperty("value",a.ɵɵpipeBind1(73,15,"dataset.cancel")),a.ɵɵadvance(2),a.ɵɵproperty("value",a.ɵɵpipeBind1(75,17,"dataset.submit"))("disabled",!r.valid)}}var h=function(){function e(e,t,n){this.service=e,this.route=t,this.location=n,this.message=null}return e.prototype.ngOnInit=function(){var e=this;this.service.newUserInstance().then((function(t){e.user=t})).catch((function(t){e.error(t)})),this.sub=this.route.params.subscribe((function(t){e.token=t.token}))},e.prototype.cancel=function(){window.location.href=acp},e.prototype.onSubmit=function(){var e=this;this.service.inviteComplete(this.user,this.token).then((function(e){window.location.href=acp})).catch((function(t){e.error(t)}))},e.prototype.error=function(e){null!==e&&(this.message=e.error.localizedMessage||e.error.message||e.message)},e.ɵfac=function(t){return new(t||e)(a.ɵɵdirectiveInject(r.AccountService),a.ɵɵdirectiveInject(o.ActivatedRoute),a.ɵɵdirectiveInject(i.Location))},e.ɵcmp=a.ɵɵdefineComponent({type:e,selectors:[["account-invite-complete"]],decls:8,vars:2,consts:[[1,"new-admin-design-main"],[3,"loggedIn"],["id","app-container",1,"container"],["key","account.invite.createTitle"],["style","padding-bottom: 20px;","class","modal-form",3,"ngSubmit",4,"ngIf"],[1,"modal-form",2,"padding-bottom","20px",3,"ngSubmit"],["form","ngForm"],[1,"heading"],["key","account.user.heading"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"row-holder"],[1,"label-holder"],["key","account.firstname"],[1,"holder"],[1,"text"],["type","text","name","firstname","required","",3,"ngModel","ngModelChange"],["key","account.lastname"],["type","text","name","lastname","required","",3,"ngModel","ngModelChange"],["key","account.phonenumber"],["type","text","name","phoneNumber",3,"ngModel","ngModelChange"],["key","account.email"],["type","text","name","email","required","","email","",3,"ngModel","ngModelChange"],["aemail","ngModel"],["class","inline-error-message",4,"ngIf"],["key","account.info.heading"],["key","account.username"],["type","text","name","username","required","",3,"disabled","ngModel","ngModelChange"],["key","account.password"],["type","password","name","password","required","","minlength","5","maxlength","50",3,"ngModel","ngModelChange"],["password","ngModel"],[3,"passwordToCheck"],["key","account.certainPassword"],["type","password","ngModel","","name","certainPassword",3,"value"],["certainPassword","ngModel"],[1,"button-holder"],["type","button",1,"btn","btn-default",3,"value","click"],["type","submit",1,"btn","btn-primary",3,"value","disabled"],["role","alert",1,"alert","alert-danger"],[1,"inline-error-message"],["key","account.email.validation"],["key","account.certainPassword.validation"]],template:function(e,t){1&e&&(a.ɵɵelementStart(0,"div",0),a.ɵɵelement(1,"cgr-header",1),a.ɵɵelementStart(2,"div",2),a.ɵɵelement(3,"message"),a.ɵɵelement(4,"loading-bar"),a.ɵɵelementStart(5,"h2"),a.ɵɵelement(6,"localize",3),a.ɵɵelementEnd(),a.ɵɵtemplate(7,f,76,19,"form",4),a.ɵɵelementEnd(),a.ɵɵelementEnd()),2&e&&(a.ɵɵadvance(1),a.ɵɵproperty("loggedIn",!1),a.ɵɵadvance(6),a.ɵɵproperty("ngIf",null!=t.user))},directives:[l.CgrHeaderComponent,c.MessageComponent,s.LoadingBarComponent,d.LocalizeComponent,i.NgIf,m.ɵangular_packages_forms_forms_y,m.NgControlStatusGroup,m.NgForm,m.DefaultValueAccessor,m.RequiredValidator,m.NgControlStatus,m.NgModel,m.EmailValidator,m.MinLengthValidator,m.MaxLengthValidator],pipes:[p.LocalizePipe],styles:[".modal-form[_ngcontent-%COMP%]   .check-block[_ngcontent-%COMP%]   .chk-area[_ngcontent-%COMP%] { margin: 10px 0px 0 0;}"]}),e}();t.AccountInviteCompleteComponent=h},620:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(0),n(29);var a=n(328),r=n(240),o=(n(33),n(603)),i=n(606),l=n(621),c=n(622),s=(n(592),n(56),n(330)),d=n(0),m=n(29),p=n(33),u=n(592),v=n(56),g=n(241),f=n(118),h=n(55),S=n(2),E=n(28),y=n(605),b=n(97);function C(e,t){if(1&e&&(d.ɵɵelementStart(0,"div",11),d.ɵɵtext(1),d.ɵɵelementEnd()),2&e){var n=d.ɵɵnextContext();d.ɵɵadvance(1),d.ɵɵtextInterpolate(n.message)}}function M(e,t){1&e&&d.ɵɵelement(0,"th")}function x(e,t){if(1&e){var n=d.ɵɵgetCurrentView();d.ɵɵelementStart(0,"td",22),d.ɵɵelementStart(1,"a",23),d.ɵɵlistener("click",(function(){d.ɵɵrestoreView(n);var e=d.ɵɵnextContext().$implicit;return d.ɵɵnextContext(2).onEditOrganization(e)})),d.ɵɵpipe(2,"localize"),d.ɵɵelementEnd(),d.ɵɵelementStart(3,"a",24),d.ɵɵlistener("click",(function(){d.ɵɵrestoreView(n);var e=d.ɵɵnextContext().$implicit;return d.ɵɵnextContext(2).onRemoveOrganization(e.code,e.code)})),d.ɵɵpipe(4,"localize"),d.ɵɵelementEnd(),d.ɵɵelementEnd()}2&e&&(d.ɵɵadvance(1),d.ɵɵproperty("title",d.ɵɵpipeBind1(2,2,"account.editTooltip")),d.ɵɵadvance(2),d.ɵɵproperty("title",d.ɵɵpipeBind1(4,4,"account.removeTooltip")))}function I(e,t){if(1&e&&(d.ɵɵelementStart(0,"tr"),d.ɵɵtemplate(1,x,5,6,"td",20),d.ɵɵelementStart(2,"td",21),d.ɵɵtext(3),d.ɵɵelementEnd(),d.ɵɵelementStart(4,"td",21),d.ɵɵtext(5),d.ɵɵelementEnd(),d.ɵɵelementStart(6,"td",21),d.ɵɵtext(7),d.ɵɵelementEnd(),d.ɵɵelementEnd()),2&e){var n=t.$implicit,a=d.ɵɵnextContext(2);d.ɵɵadvance(1),d.ɵɵproperty("ngIf",a.isSRA),d.ɵɵadvance(2),d.ɵɵtextInterpolate(n.code),d.ɵɵadvance(2),d.ɵɵtextInterpolate(n.label.localizedValue),d.ɵɵadvance(2),d.ɵɵtextInterpolate(n.contactInfo.localizedValue)}}function w(e,t){if(1&e){var n=d.ɵɵgetCurrentView();d.ɵɵelementStart(0,"tr"),d.ɵɵelementStart(1,"td",22),d.ɵɵelementStart(2,"a",25),d.ɵɵlistener("click",(function(){return d.ɵɵrestoreView(n),d.ɵɵnextContext(2).newOrganization()})),d.ɵɵpipe(3,"localize"),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd()}2&e&&(d.ɵɵadvance(2),d.ɵɵproperty("title",d.ɵɵpipeBind1(3,1,"account.newTooltip")))}function z(e,t){if(1&e&&(d.ɵɵelementStart(0,"div",4),d.ɵɵelementStart(1,"div",5),d.ɵɵelementStart(2,"h3"),d.ɵɵelement(3,"localize",12),d.ɵɵelementEnd(),d.ɵɵelementStart(4,"div",7),d.ɵɵelementStart(5,"div",13),d.ɵɵelementStart(6,"table",14),d.ɵɵelementStart(7,"thead"),d.ɵɵelementStart(8,"tr"),d.ɵɵtemplate(9,M,1,0,"th",15),d.ɵɵelementStart(10,"th"),d.ɵɵelement(11,"localize",16),d.ɵɵelementEnd(),d.ɵɵelementStart(12,"th"),d.ɵɵelement(13,"localize",17),d.ɵɵelementEnd(),d.ɵɵelementStart(14,"th"),d.ɵɵelement(15,"localize",18),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementStart(16,"tbody"),d.ɵɵtemplate(17,I,8,4,"tr",19),d.ɵɵtemplate(18,w,4,3,"tr",15),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd()),2&e){var n=d.ɵɵnextContext();d.ɵɵadvance(9),d.ɵɵproperty("ngIf",n.isSRA),d.ɵɵadvance(8),d.ɵɵproperty("ngForOf",n.organizations),d.ɵɵadvance(1),d.ɵɵproperty("ngIf",n.isSRA)}}function R(e,t){if(1&e){var n=d.ɵɵgetCurrentView();d.ɵɵelementStart(0,"div",4),d.ɵɵelementStart(1,"div",5),d.ɵɵelementStart(2,"h3"),d.ɵɵelement(3,"localize",26),d.ɵɵelementEnd(),d.ɵɵelementStart(4,"div",7),d.ɵɵelementStart(5,"div",4),d.ɵɵelementStart(6,"div",5),d.ɵɵelementStart(7,"a",27),d.ɵɵelementStart(8,"button",28),d.ɵɵelement(9,"localize",29),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementStart(10,"div",4),d.ɵɵelementStart(11,"div",5),d.ɵɵelementStart(12,"input",30),d.ɵɵlistener("click",(function(){return d.ɵɵrestoreView(n),d.ɵɵnextContext().inviteUsers()})),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd()}2&e&&(d.ɵɵadvance(7),d.ɵɵproperty("routerLink","/admin/accounts/"))}function O(e,t){if(1&e&&(d.ɵɵelementStart(0,"tr"),d.ɵɵelementStart(1,"td",21),d.ɵɵtext(2),d.ɵɵelementEnd(),d.ɵɵelementStart(3,"td",21),d.ɵɵtext(4),d.ɵɵelementEnd(),d.ɵɵelementStart(5,"td",21),d.ɵɵtext(6),d.ɵɵelementEnd(),d.ɵɵelementEnd()),2&e){var n=t.$implicit;d.ɵɵadvance(2),d.ɵɵtextInterpolate(n.language),d.ɵɵadvance(2),d.ɵɵtextInterpolate(n.country),d.ɵɵadvance(2),d.ɵɵtextInterpolate(n.variant)}}function k(e,t){if(1&e){var n=d.ɵɵgetCurrentView();d.ɵɵelementStart(0,"div",4),d.ɵɵelementStart(1,"div",5),d.ɵɵelementStart(2,"h3"),d.ɵɵelement(3,"localize",31),d.ɵɵelementEnd(),d.ɵɵelementStart(4,"div",7),d.ɵɵelementStart(5,"div",13),d.ɵɵelementStart(6,"table",32),d.ɵɵelementStart(7,"thead"),d.ɵɵelementStart(8,"tr"),d.ɵɵelementStart(9,"th"),d.ɵɵelement(10,"localize",33),d.ɵɵelementEnd(),d.ɵɵelementStart(11,"th"),d.ɵɵelement(12,"localize",34),d.ɵɵelementEnd(),d.ɵɵelementStart(13,"th"),d.ɵɵelement(14,"localize",35),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementStart(15,"tbody"),d.ɵɵtemplate(16,O,7,3,"tr",19),d.ɵɵelementStart(17,"tr"),d.ɵɵelementStart(18,"td",22),d.ɵɵelementStart(19,"a",25),d.ɵɵlistener("click",(function(){return d.ɵɵrestoreView(n),d.ɵɵnextContext().newLocalization()})),d.ɵɵpipe(20,"localize"),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementStart(21,"input",36),d.ɵɵlistener("click",(function(){return d.ɵɵrestoreView(n),d.ɵɵnextContext().exportLocalization()})),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd()}if(2&e){var a=d.ɵɵnextContext();d.ɵɵadvance(16),d.ɵɵproperty("ngForOf",a.installedLocales),d.ɵɵadvance(3),d.ɵɵproperty("title",d.ɵɵpipeBind1(20,2,"account.newTooltip"))}}function A(e,t){1&e&&(d.ɵɵelementStart(0,"div",4),d.ɵɵelementStart(1,"div",5),d.ɵɵelementStart(2,"h3"),d.ɵɵelement(3,"localize",37),d.ɵɵelementEnd(),d.ɵɵelementStart(4,"div",7),d.ɵɵelement(5,"system-logos"),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd())}function L(e,t){1&e&&(d.ɵɵelementStart(0,"i",42),d.ɵɵtext(1,"Configured"),d.ɵɵelementEnd())}function N(e,t){if(1&e){var n=d.ɵɵgetCurrentView();d.ɵɵelementStart(0,"div",38),d.ɵɵelementStart(1,"div",5),d.ɵɵelementStart(2,"h3"),d.ɵɵelement(3,"localize",39),d.ɵɵelementEnd(),d.ɵɵelementStart(4,"div",7),d.ɵɵelementStart(5,"input",40),d.ɵɵlistener("click",(function(){return d.ɵɵrestoreView(n),d.ɵɵnextContext().configureEmail()})),d.ɵɵelementEnd(),d.ɵɵtemplate(6,L,2,0,"i",41),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd()}if(2&e){var a=d.ɵɵnextContext();d.ɵɵadvance(6),d.ɵɵproperty("ngIf",a.settings.email.isConfigured)}}var P=function(){function e(e,t,n,a){this.modalService=e,this.localizeService=t,this.settingsService=n,this.authService=a,this.message=null,this.organizations=[],this.settings={email:{isConfigured:!1}},this.isAdmin=a.isAdmin(),this.isSRA=a.isSRA(),this.isRA=a.isRA()}return e.prototype.ngOnInit=function(){var e=this;this.installedLocales=this.getLocales(),this.settingsService.getOrganizations().then((function(t){e.organizations=t})).catch((function(t){e.error(t)}))},e.prototype.getCGRVersion=function(){return this.authService.getVersion()},e.prototype.getLocales=function(){return this.authService.getLocales()},e.prototype.exportLocalization=function(){window.location.href=acp+"/localization/exportSpreadsheet"},e.prototype.onEditOrganization=function(e){var t=this,n=this.modalService.show(l.OrganizationModalComponent,{animated:!0,backdrop:!0,ignoreBackdropClick:!0});n.content.organization=e,n.content.isNewOrganization=!1,n.content.onSuccess.subscribe((function(e){t.organizations.push(e)}))},e.prototype.onRemoveOrganization=function(e,t){var n=this;this.bsModalRef=this.modalService.show(a.ConfirmModalComponent,{animated:!0,backdrop:!0,ignoreBackdropClick:!0}),this.bsModalRef.content.message=this.localizeService.decode("confirm.modal.verify.delete")+" ["+t+"]",this.bsModalRef.content.submitText=this.localizeService.decode("modal.button.delete"),this.bsModalRef.content.type=s.ModalTypes.danger,this.bsModalRef.content.onConfirm.subscribe((function(t){n.settingsService.removeOrganization(e).then((function(t){for(var a=n.organizations.length-1;a>=0;a--)n.organizations[a].code===e&&n.organizations.splice(a,1)})).catch((function(e){n.error(e)}))}))},e.prototype.newOrganization=function(){var e=this,t=this.modalService.show(l.OrganizationModalComponent,{animated:!0,backdrop:!0,ignoreBackdropClick:!0});t.content.isNewOrganization=!0,t.content.onSuccess.subscribe((function(t){e.organizations.push(t)}))},e.prototype.newLocalization=function(){var e=this;this.modalService.show(c.NewLocaleModalComponent,{animated:!0,backdrop:!0,ignoreBackdropClick:!0}).content.onSuccess.subscribe((function(t){e.installedLocales.push(t)}))},e.prototype.configureEmail=function(){var e=this;this.bsModalRef=this.modalService.show(i.EmailComponent,{animated:!0,backdrop:!0,ignoreBackdropClick:!0}),this.bsModalRef.content.onSuccess.subscribe((function(t){e.settings.email.isConfigured=t}))},e.prototype.inviteUsers=function(){this.bsModalRef=this.modalService.show(o.AccountInviteComponent,{animated:!0,backdrop:!0,ignoreBackdropClick:!0}),this.bsModalRef.content.organization=null},e.prototype.error=function(e){null!==e&&(this.bsModalRef=this.modalService.show(r.ErrorModalComponent,{backdrop:!0}),this.bsModalRef.content.message=e.error.localizedMessage||e.error.message||e.message)},e.ɵfac=function(t){return new(t||e)(d.ɵɵdirectiveInject(m.BsModalService),d.ɵɵdirectiveInject(p.LocalizationService),d.ɵɵdirectiveInject(u.SettingsService),d.ɵɵdirectiveInject(v.AuthService))},e.ɵcmp=d.ɵɵdefineComponent({type:e,selectors:[["settings"]],decls:21,vars:7,consts:[[1,"new-admin-design-main"],["id","app-container",1,"container"],["key","settings.title"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"row"],[1,"col-md-12"],["key","settings.information.heading"],[1,"content-wrapper"],["key","settings.version.label"],["class","row",4,"ngIf"],["class","row","style","margin-bottom: 30px;",4,"ngIf"],["role","alert",1,"alert","alert-danger"],["key","settings.organizations.heading"],[1,"list-table-wrapper"],["id","manage-organizations-table",1,"list-table","table","table-bordered","table-striped"],[4,"ngIf"],["key","settings.manage.orgs.table.code.header"],["key","settings.manage.orgs.table.name.header"],["key","settings.manage.orgs.table.contact.header"],[4,"ngFor","ngForOf"],["class","button-column",4,"ngIf"],[1,"label-column"],[1,"button-column"],[1,"fa","fa-pencil","ico-edit",3,"title","click"],[1,"fa","fa-trash-o","ico-remove",3,"title","click"],[1,"fa","fa-plus",3,"title","click"],["key","settings.accounts.heading"],["routerLinkActive","active",3,"routerLink"],["role","button",1,"btn","btn-primary"],["key","settings.manage.accounts.button"],["type","submit","value","Invite User",1,"btn","btn-primary",2,"margin-top","10px",3,"click"],["key","settings.localization.heading"],["id","manage-accounts-table",1,"list-table","table","table-bordered","table-striped"],["key","settings.manage.lang.table.language.header"],["key","settings.manage.lang.table.country.header"],["key","settings.manage.lang.table.variant.header"],["type","submit","value","Export localization",1,"btn","btn-primary",3,"click"],["key","settings.branding.heading"],[1,"row",2,"margin-bottom","30px"],["key","settings.email.heading"],["type","submit","value","Configure",1,"btn","btn-primary",3,"click"],["class","fa fa-check","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"fa","fa-check"]],template:function(e,t){1&e&&(d.ɵɵelementStart(0,"div",0),d.ɵɵelement(1,"cgr-header"),d.ɵɵelementStart(2,"div",1),d.ɵɵelement(3,"message"),d.ɵɵelementStart(4,"h2"),d.ɵɵelement(5,"localize",2),d.ɵɵelementEnd(),d.ɵɵtemplate(6,C,2,1,"div",3),d.ɵɵelementStart(7,"div"),d.ɵɵelementStart(8,"div",4),d.ɵɵelementStart(9,"div",5),d.ɵɵelementStart(10,"h3"),d.ɵɵelement(11,"localize",6),d.ɵɵelementEnd(),d.ɵɵelementStart(12,"div",7),d.ɵɵelementStart(13,"h4"),d.ɵɵelement(14,"localize",8),d.ɵɵtext(15),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵtemplate(16,z,19,3,"div",9),d.ɵɵtemplate(17,R,13,1,"div",9),d.ɵɵtemplate(18,k,22,4,"div",9),d.ɵɵtemplate(19,A,6,0,"div",9),d.ɵɵtemplate(20,N,7,1,"div",10),d.ɵɵelementEnd(),d.ɵɵelementEnd(),d.ɵɵelementEnd()),2&e&&(d.ɵɵadvance(6),d.ɵɵproperty("ngIf",null!=t.message),d.ɵɵadvance(9),d.ɵɵtextInterpolate1(" ",t.getCGRVersion(),""),d.ɵɵadvance(1),d.ɵɵproperty("ngIf",t.isAdmin),d.ɵɵadvance(1),d.ɵɵproperty("ngIf",t.isSRA||t.isRA),d.ɵɵadvance(1),d.ɵɵproperty("ngIf",t.isSRA),d.ɵɵadvance(1),d.ɵɵproperty("ngIf",t.isSRA),d.ɵɵadvance(1),d.ɵɵproperty("ngIf",t.isSRA))},directives:[g.CgrHeaderComponent,f.MessageComponent,h.LocalizeComponent,S.NgIf,S.NgForOf,E.RouterLinkWithHref,E.RouterLinkActive,y.SystemLogosComponent],pipes:[b.LocalizePipe],styles:["h3[_ngcontent-%COMP%] {\n    border-bottom: solid 2px lightgrey !important;\n\tpadding-bottom: 10px;\n\tmargin-bottom: 30px;\n\tmargin-top: 30px;\n}\n\n.content-wrapper[_ngcontent-%COMP%] {\n\tmargin-left: 20px;\n}"]}),e}();t.SettingsComponent=P},621:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(0),n(29);var a=n(34),r=(n(592),n(33),n(0)),o=n(592),i=n(29),l=n(33),c=n(118),s=n(117),d=n(27),m=n(55),p=n(2),u=n(97);function v(e,t){if(1&e&&(r.ɵɵelementStart(0,"div",17),r.ɵɵtext(1),r.ɵɵelementEnd()),2&e){var n=r.ɵɵnextContext();r.ɵɵadvance(1),r.ɵɵtextInterpolate(n.message)}}function g(e,t){if(1&e){var n=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"div",18),r.ɵɵelementStart(1,"label"),r.ɵɵtext(2),r.ɵɵelementEnd(),r.ɵɵelementStart(3,"input",19),r.ɵɵlistener("ngModelChange",(function(e){return r.ɵɵrestoreView(n),t.$implicit.value=e})),r.ɵɵelementEnd(),r.ɵɵelementEnd()}if(2&e){var a=t.$implicit;r.ɵɵadvance(2),r.ɵɵtextInterpolate1(" ",a.locale,""),r.ɵɵadvance(1),r.ɵɵproperty("ngModel",a.value)("name","label-"+a.locale)}}function f(e,t){if(1&e){var n=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"div",18),r.ɵɵelementStart(1,"label"),r.ɵɵtext(2),r.ɵɵelementEnd(),r.ɵɵelementStart(3,"input",20),r.ɵɵlistener("ngModelChange",(function(e){return r.ɵɵrestoreView(n),t.$implicit.value=e})),r.ɵɵelementEnd(),r.ɵɵelementEnd()}if(2&e){var a=t.$implicit;r.ɵɵadvance(2),r.ɵɵtextInterpolate1(" ",a.locale,""),r.ɵɵadvance(1),r.ɵɵproperty("ngModel",a.value)("name","contact-"+a.locale)}}var h=function(){function e(e,t,n){this.service=e,this.bsModalRef=t,this.lService=n,this.message=null,this.organization={code:"",label:this.lService.create(),contactInfo:this.lService.create()},this.isNewOrganization=!0}return e.prototype.ngOnInit=function(){this.onSuccess=new a.Subject},e.prototype.cancel=function(){this.bsModalRef.hide()},e.prototype.onSubmit=function(){var e=this;this.isNewOrganization?this.service.newOrganization(this.organization).then((function(t){e.onSuccess.next(t),e.bsModalRef.hide()})).catch((function(t){e.error(t)})):this.service.updateOrganization(this.organization).then((function(t){e.onSuccess.next(t),e.bsModalRef.hide()})).catch((function(t){e.error(t)}))},e.prototype.error=function(e){null!==e&&(this.message=e.error.localizedMessage||e.error.message||e.message)},e.ɵfac=function(t){return new(t||e)(r.ɵɵdirectiveInject(o.SettingsService),r.ɵɵdirectiveInject(i.BsModalRef),r.ɵɵdirectiveInject(l.LocalizationService))},e.ɵcmp=r.ɵɵdefineComponent({type:e,selectors:[["organization-modal"]],decls:39,vars:12,consts:[[1,"modal-form",3,"ngSubmit"],["form","ngForm"],[1,"heading"],["key","organization.heading"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"row-holder"],[1,"label-holder"],["key","organization.code"],[1,"holder"],[1,"text"],["type","text","name","code","required","",3,"ngModel","disabled","ngModelChange"],["key","organization.name"],["class","form-group",4,"ngFor","ngForOf"],["key","organization.contact"],[1,"button-holder"],["type","button",1,"btn","btn-default",3,"value","click"],["type","submit",1,"btn","btn-primary",3,"value","disabled"],["role","alert",1,"alert","alert-danger"],[1,"form-group"],["type","input","required","",1,"form-control",3,"ngModel","name","ngModelChange"],["type","input",1,"form-control",3,"ngModel","name","ngModelChange"]],template:function(e,t){if(1&e){var n=r.ɵɵgetCurrentView();r.ɵɵelementStart(0,"div"),r.ɵɵelement(1,"message"),r.ɵɵelement(2,"loading-bar"),r.ɵɵelementStart(3,"form",0,1),r.ɵɵlistener("ngSubmit",(function(){return r.ɵɵrestoreView(n),r.ɵɵreference(4).valid&&t.onSubmit()})),r.ɵɵelementStart(5,"fieldset"),r.ɵɵelementStart(6,"div",2),r.ɵɵelementStart(7,"h3"),r.ɵɵelement(8,"localize",3),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵtemplate(9,v,2,1,"div",4),r.ɵɵelementStart(10,"div",5),r.ɵɵelementStart(11,"div",6),r.ɵɵelementStart(12,"label"),r.ɵɵelement(13,"localize",7),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(14,"div",8),r.ɵɵelementStart(15,"span",9),r.ɵɵelementStart(16,"input",10),r.ɵɵlistener("ngModelChange",(function(e){return t.organization.code=e})),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(17,"div",5),r.ɵɵelementStart(18,"div",6),r.ɵɵelementStart(19,"label"),r.ɵɵelement(20,"localize",11),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(21,"div",8),r.ɵɵelementStart(22,"span",9),r.ɵɵtemplate(23,g,4,3,"div",12),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(24,"div",5),r.ɵɵelementStart(25,"div",6),r.ɵɵelementStart(26,"label"),r.ɵɵelement(27,"localize",13),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(28,"div",8),r.ɵɵelementStart(29,"span",9),r.ɵɵtemplate(30,f,4,3,"div",12),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementStart(31,"div",5),r.ɵɵelement(32,"div",6),r.ɵɵelementStart(33,"div",8),r.ɵɵelementStart(34,"div",14),r.ɵɵelementStart(35,"input",15),r.ɵɵlistener("click",(function(){return t.cancel()})),r.ɵɵpipe(36,"localize"),r.ɵɵelementEnd(),r.ɵɵelement(37,"input",16),r.ɵɵpipe(38,"localize"),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd(),r.ɵɵelementEnd()}if(2&e){var a=r.ɵɵreference(4);r.ɵɵadvance(9),r.ɵɵproperty("ngIf",null!=t.message),r.ɵɵadvance(7),r.ɵɵproperty("ngModel",t.organization.code)("disabled",!t.isNewOrganization),r.ɵɵadvance(7),r.ɵɵproperty("ngForOf",t.organization.label.localeValues),r.ɵɵadvance(7),r.ɵɵproperty("ngForOf",t.organization.contactInfo.localeValues),r.ɵɵadvance(5),r.ɵɵproperty("value",r.ɵɵpipeBind1(36,8,"dataset.cancel")),r.ɵɵadvance(2),r.ɵɵproperty("value",r.ɵɵpipeBind1(38,10,"dataset.submit"))("disabled",!a.valid)}},directives:[c.MessageComponent,s.LoadingBarComponent,d.ɵangular_packages_forms_forms_y,d.NgControlStatusGroup,d.NgForm,m.LocalizeComponent,p.NgIf,d.DefaultValueAccessor,d.RequiredValidator,d.NgControlStatus,d.NgModel,p.NgForOf],pipes:[u.LocalizePipe],styles:[".modal-form[_ngcontent-%COMP%]   .check-block[_ngcontent-%COMP%]   .chk-area[_ngcontent-%COMP%] { margin: 10px 0px 0 0;}"]}),e}();t.OrganizationModalComponent=h},622:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(0);var a=n(34),r=(n(29),n(29),n(600),n(44),n(667)),o=n(240),i=n(0),l=n(29),c=n(600),s=n(44),d=n(27),m=n(55),p=n(2);function u(e,t){if(1&e&&(i.ɵɵelementStart(0,"option",19),i.ɵɵtext(1),i.ɵɵelementEnd()),2&e){var n=t.$implicit;i.ɵɵproperty("ngValue",n.key),i.ɵɵadvance(1),i.ɵɵtextInterpolate(n.label)}}function v(e,t){if(1&e&&(i.ɵɵelementStart(0,"option",19),i.ɵɵtext(1),i.ɵɵelementEnd()),2&e){var n=t.$implicit;i.ɵɵproperty("ngValue",n.key),i.ɵɵadvance(1),i.ɵɵtextInterpolate(n.label)}}var g=function(){function e(e,t,n,a){this.bsModalRef=e,this.localizationManagerService=t,this.eventService=n,this.modalService=a}return e.prototype.ngOnInit=function(){var e=this;this.allLocaleInfo=new r.AllLocaleInfo,this.localizationManagerService.getNewLocaleInfo().then((function(t){e.allLocaleInfo=t,e.eventService.complete()})).catch((function(t){console.log(t),e.bsModalRef.hide(),e.eventService.complete(),e.error(t)})),this.onSuccess=new a.Subject},e.prototype.submit=function(){var e=this;this.eventService.start(),this.localizationManagerService.installLocale(this.language,this.country,this.variant).then((function(){e.onSuccess.next(e.language),e.eventService.complete(),e.bsModalRef.hide()})).catch((function(t){console.log(t),e.bsModalRef.hide(),e.eventService.complete(),e.error(t)}))},e.prototype.cancel=function(){this.bsModalRef.hide()},e.prototype.error=function(e){null!==e&&(this.modalService.show(o.ErrorModalComponent,{backdrop:!0}).content.message=e.error.localizedMessage||e.error.message||e.message)},e.ɵfac=function(t){return new(t||e)(i.ɵɵdirectiveInject(l.BsModalRef),i.ɵɵdirectiveInject(c.LocalizationManagerService),i.ɵɵdirectiveInject(s.EventService),i.ɵɵdirectiveInject(l.BsModalService))},e.ɵcmp=i.ɵɵdefineComponent({type:e,selectors:[["new-locale-modal"]],decls:31,vars:5,consts:[["name","new-locale-form",1,"modal-form",3,"ngSubmit"],["form","ngForm"],[1,"modal-body"],[1,"heading"],["key","new-locale.title"],[1,"row"],[1,"col-md-12"],["key","new-locale.language"],["name","new-locale-language",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["key","new-locale.country"],["name","new-locale-country",3,"ngModel","ngModelChange"],["key","new-locale.variant"],["type","text","name","new-locale-variant",3,"ngModel","ngModelChange"],[1,"button-holder"],["type","button","role","button","aria-disabled","false",1,"btn","btn-default",3,"click"],["key","new-locale.cancel"],["type","submit","role","button","aria-disabled","false",1,"btn","btn-primary"],["key","new-locale.submit"],[3,"ngValue"]],template:function(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"form",0,1),i.ɵɵlistener("ngSubmit",(function(){return i.ɵɵrestoreView(n),i.ɵɵreference(1).valid&&t.submit()})),i.ɵɵelementStart(2,"div",2),i.ɵɵelementStart(3,"fieldset"),i.ɵɵelementStart(4,"div",3),i.ɵɵelementStart(5,"h3"),i.ɵɵelement(6,"localize",4),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(7,"div",5),i.ɵɵelementStart(8,"div",6),i.ɵɵelementStart(9,"label"),i.ɵɵelement(10,"localize",7),i.ɵɵelementEnd(),i.ɵɵelementStart(11,"select",8),i.ɵɵlistener("ngModelChange",(function(e){return t.language=e})),i.ɵɵtemplate(12,u,2,2,"option",9),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(13,"div"),i.ɵɵelementStart(14,"label"),i.ɵɵelement(15,"localize",10),i.ɵɵelementEnd(),i.ɵɵelementStart(16,"select",11),i.ɵɵlistener("ngModelChange",(function(e){return t.country=e})),i.ɵɵtemplate(17,v,2,2,"option",9),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(18,"div"),i.ɵɵelementStart(19,"label"),i.ɵɵelement(20,"localize",12),i.ɵɵelementEnd(),i.ɵɵelementStart(21,"input",13),i.ɵɵlistener("ngModelChange",(function(e){return t.variant=e})),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(22,"div",5),i.ɵɵelementStart(23,"div",6),i.ɵɵelementStart(24,"div",14),i.ɵɵelementStart(25,"button",15),i.ɵɵlistener("click",(function(){return t.cancel()})),i.ɵɵelementStart(26,"span"),i.ɵɵelement(27,"localize",16),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(28,"button",17),i.ɵɵelementStart(29,"span"),i.ɵɵelement(30,"localize",18),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd()}2&e&&(i.ɵɵadvance(11),i.ɵɵproperty("ngModel",t.language),i.ɵɵadvance(1),i.ɵɵproperty("ngForOf",t.allLocaleInfo.languages),i.ɵɵadvance(4),i.ɵɵproperty("ngModel",t.country),i.ɵɵadvance(1),i.ɵɵproperty("ngForOf",t.allLocaleInfo.countries),i.ɵɵadvance(4),i.ɵɵproperty("ngModel",t.variant))},directives:[d.ɵangular_packages_forms_forms_y,d.NgControlStatusGroup,d.NgForm,m.LocalizeComponent,d.SelectControlValueAccessor,d.NgControlStatus,d.NgModel,p.NgForOf,d.DefaultValueAccessor,d.NgSelectOption,d.ɵangular_packages_forms_forms_x],encapsulation:2}),e}();t.NewLocaleModalComponent=g},666:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){};t.UserInvite=a;var r=function(){};t.User=r;var o=function(){};t.Group=o;var i=function(){};t.Account=i;var l=function(){};t.Role=l;var c=function(){};t.FormattedRoles=c;var s=function(){};t.FormattedOrganization=s;var d=function(){};t.FormattedGeoObjectTypeRoleGroup=d;var m=function(){};t.PageResult=m},667:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){};t.LocaleInfo=a;var r=function(){};t.AllLocaleInfo=r;var o=function(){};t.Locale=o},668:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(0);var a=n(2),r=n(28),o=n(246),i=n(618),l=n(620),c=n(603),s=n(619),d=n(601),m=n(604),p=n(605),u=n(606),v=n(0),g=n(28),f=[{path:"logos",canActivate:[o.AuthGuard],component:p.SystemLogosComponent,data:{title:"System_Configuration"}},{path:"logo/:oid",canActivate:[o.AuthGuard],component:m.SystemLogoComponent,data:{title:"System_Configuration"}},{path:"email",canActivate:[o.AuthGuard],component:u.EmailComponent,data:{title:"System_Configuration"}},{path:"",canActivate:[o.AuthGuard],component:i.AccountsComponent,data:{title:"useraccounts.title"}},{path:"settings",canActivate:[o.AuthGuard],component:l.SettingsComponent,data:{title:"settings.title"}},{path:"accounts",canActivate:[o.AuthGuard],component:i.AccountsComponent,data:{title:"useraccounts.title"}},{path:"account/:oid",component:d.AccountComponent,canActivate:[o.AuthGuard],data:{title:"account.title"}},{path:"invite",component:c.AccountInviteComponent,data:{title:"account.title"}},{path:"invite-complete/:token",component:s.AccountInviteCompleteComponent,data:{title:"account.title"}}],h=function(){function e(){}return e.ɵmod=v.ɵɵdefineNgModule({type:e}),e.ɵinj=v.ɵɵdefineInjector({factory:function(t){return new(t||e)},providers:[{provide:a.LocationStrategy,useClass:a.HashLocationStrategy}],imports:[[r.RouterModule.forChild(f)],r.RouterModule]}),e}();t.AdminRoutingModule=h,("undefined"==typeof ngJitMode||ngJitMode)&&v.ɵɵsetNgModuleScope(h,{imports:[g.RouterModule],exports:[r.RouterModule]})}}]);
//# sourceMappingURL=2.chunk.js.map